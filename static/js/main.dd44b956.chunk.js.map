{"version":3,"sources":["insa/lon.ts","insa/maIjo.ts","insa/lonPali.ts","insa/kepeken.ts","insa/nimiAli.ts","insa/toki.ts","insa/pilinToki.ts","insa/pali.ts","insa/tawa.ts","insa/lipuMa.ts","insa/lipuIjo.ts","insa/ijo.ts","insa/musi.ts","lukin/iloPalisa.tsx","lukin/kipisiENimi.ts","lukin/lukinIjo.ts","lukin/jasima.ts","lukin/leko.tsx","lukin/ma.tsx","lukin/tenpo.tsx","lukin/iloTenpo.tsx","lukin/lukinMusi.tsx","lukin/maSeme.tsx","lukin/sijelo.tsx","reportWebVitals.ts","index.tsx"],"names":["nasinTawaAli","liNasinTawa","sitelen","includes","lonAla","x","NaN","y","Lon","nasin","this","RangeError","suliMa","Im","Record","MaIjo","lipuIjo","lonIjo","groupBy","ijo","lon","toMap","paliELonPali","maIjo","nasinMusi","Map","mapEntries","ijoMute","map","nanpa","ijoAntePiLonSama","get","filterNot","_","nanpaNi","toSet","nimiPiIjoSitelenAntePiLonSama","toSeq","filter","ni","liSitelen","nimi","nasinLiLon","semeLiLon","seme","contains","liNimi","lonSemeLiLon","lonSeme","some","isEmpty","intersect","Seq","flatMap","liSeme","panaEPali","monsiELukinKulupu","lukin","tawaMute","tan","tawa","nimiInsaKulupu","toki","kulupu","pali","kulupuPiNimiAli","nimiAli","keySeq","toArray","liInsaKulupu","panaEKulupuNimi","panaELinjaTokiAli","panaELinjaTokiMute","paliELon","suli","linjaToki","undefined","paliEToki","ijoENanpa","tokiSinpin","lonToki","index","rowBegin","columnBegin","rowEnd","columnEnd","panaELonToki","nimiWan","entrySeq","first","nanpaIjo","kind","text","pos","next","pilinMute","pilinInsa","pilinJaki","rep","alt","tok","pilinIjo","pilinKulupu","pilinPali","pilinLi","str","pilinEn","pilinLon","pilinSeme","apply","seq","lawa","sijelo","concat","insa","mute","pilinLeko","Set","of","union","pilinPiNasinMusi","leko","li","pilin","kmid","panaENasinMusiLinja","linja","nasinLinja","successful","candidates","ken","result","nasinNi","nasinAnte","nanpaIjoMuteNi","nanpaIjoMuteAnte","size","isSubset","paliAnte","lonPali","anteMute","Keyed","paliMute","toKeyedSeq","wekaMute","toIndexedSeq","panaENanpaWeka","paliLeko","lekoLiMoli","paliTawaMi","panaEKulupuTawa","paliTawaTawa","anpa","sewi","mamaTawa","miMute","lukinEKulupuTawa","lukinNi","lonSin","lukinSin","liInsaMa","panaENanpaTanPali","lukinTawa","valueSeq","panaEPilinMusi","liPini","liTawa","lekoLiPini","lekoLiMi","KulupuToki","tawaAla","lukinWawa","Tawa","tokiAli","expectEOF","parse","panaENasinMusiAli","antePiLipuIjo","lipuIjoSin","lipuIjoMajuna","ante","lipu","merge","removeAll","anteELipuIjo","ijoAla","Ijo","assert","set","mamaToki","buildLexer","Nimi","Sitelen","Namako","Kon","Insa","nimiNimi","nimiSitelen","panaENimi","nimiLili","toLowerCase","nimiOpen","startsWith","Error","join","pilinPiIjoNimi","pilinPiIjoSitelen","pilinKon","pilinPiLinjaNamako","pilinLinja","expectSingleResult","musiAla","nimiMa","tenpo","List","tenpoNi","Musi","lipuMa","namakoAli","namako","flat","pilinPiIjoNamako","pilinPiLinjaMa","ma","cacheResult","suliLinja","length","toList","skip","ijoAli","wan","pilinELipuMa","tenpoOpen","kamaKin","take","ali","tawaNi","paliTawa","tenpoNiSin","t0","Date","now","tawaSin","sin","equals","tenpoSin","push","t1","console","log","tokiNasin","split","musiOpen","tenpoMonsi","reduce","musi","nasinTawa","musiSin","tawaTawa","tawaPalisa","palisaAli","palisaPiNimiPalisa","IloPalisa","render","lukaPalisa","palisa","code","repeat","props","palisaLa","preventDefault","window","addEventListener","removeEventListener","Component","panaENimiPalisa","replace","kipisiPiNimiAli","lukinPiKulupuNimi","kule","lukinPiIjoAli","soweli","anteTawa","waso","kala","akesi","pipi","jan","mije","meli","tomo","kiwen","telo","ko","kili","kasi","pan","sike","nena","lupa","poki","supa","ilo","len","mani","jaki","suno","mun","olin","luka","noka","uta","kute","oko","pu","kipisiENimi","lonSitelen","document","createElement","getContext","paliELinja","suliPokaAli","suliPoka","Math","round","measureText","width","nanpaSuliPiLinjaWan","Range","meso","substring","nanpaSuliPiLinjaTu","minBy","tu","abs","font","kipisi","paliEKipisiPiNimiAli","panaEJasima","jasimaMajuna","lonMajuna","nanpaNasin","namakoLawa","nanpaMajuna","jasima","alasaNanpaPiJasimaSike","exec","parseFloat","panaENanpaPiJasimaSike","floor","Leko","memo","lukinNimi","kulupuLukin","classNames","ijoMajuna","ona","useRef","useEffect","current","useMajuna","useState","sinEJasima","left","top","transform","color","className","style","nanpaLinja","fontVariationSettings","Ma","jo","lekoAli","nanpaTaso","height","Tenpo","tenpoNanpaLa","panaTanPokiLa","nanpaTanNi","paliLa","title","onClick","slice","navigator","clipboard","writeText","panaTawaPoki","readText","then","panaTanPoki","nimiNasin","nanpaTawa","nimiNanpa","sinpinAnuMonsi","IloTenpo","timer","lukaTenpo","weka","tenpoLa","prevProps","setInterval","clearInterval","LukinMusi","lukaIloTenpo","setState","state","lukaTenpoNanpa","tenpoNanpa","lukaPanaTanPoki","sinETenpoAli","paliPalisa","tenpoSinpin","panaENasin","MaSeme","lipuMaAli","Sijelo","lukaPali","lukaMonsi","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","getElementById"],"mappings":"m0DAEMA,EAAe,CAAC,SAAK,SAAK,SAAK,UAQ9B,SAASC,EAAYC,GAE1B,OAAQF,EAAmCG,SAASD,GAStD,IAAME,EAAe,CAAEC,EAAGC,IAAKC,EAAGD,KAKrBE,EAAb,kDAEE,WAAYH,EAAWE,GACtB,uCACO,CAAEF,EAAGA,EAAGE,EAAGA,IAJrB,wCAYE,SAAKE,GAEH,OAAOA,GAEL,IAAK,SAAK,OAAO,IAAID,EAAIE,KAAKL,EAAGK,KAAKH,EAAI,GAC1C,IAAK,SAAK,OAAO,IAAIC,EAAIE,KAAKL,EAAGK,KAAKH,EAAI,GAC1C,IAAK,SAAK,OAAO,IAAIC,EAAIE,KAAKL,EAAI,EAAGK,KAAKH,GAC1C,IAAK,SAAK,OAAO,IAAIC,EAAIE,KAAKL,EAAI,EAAGK,KAAKH,GAC1C,QAAS,MAAM,IAAII,WAAW,oBApBpC,sBA2BE,SAASC,GAEP,OACEF,KAAKL,GAAK,GAAKK,KAAKL,EAAIO,EAAOP,GAC/BK,KAAKH,GAAK,GAAKG,KAAKH,EAAIK,EAAOL,MA/BrC,GAAyBM,IAAGC,OAAaV,IClBlC,IAAMW,EAEX,WAAYH,EAAaI,GACxB,yBAKQJ,YALT,OAMSK,YANT,EACEP,KAAKE,OAASA,EACdF,KAAKO,OAASD,EAAQE,SAAQ,SAAAC,GAAG,OAAIA,EAAIC,OAAKC,S,OCJ3C,SAASC,EAAaC,EAAcC,GAIzC,OAAOX,IAAGY,IACRF,EAAMN,OAAOS,YAAW,mCAAEN,EAAF,KAAOO,EAAP,WACtB,CAACP,EAAKO,EAAQC,KAAI,SAACT,EAAKU,GAAN,OAIxB,SAAmBT,EAAUD,EAAUU,EAAeN,EAAcC,GAElE,IAAMM,EAAmBP,EAAMN,OAC5Bc,IAAIX,GACJY,WAAU,SAACC,EAAGC,GAAJ,OAAgBA,IAAYL,KACtCM,QACGC,EAAgCN,EACnCO,QACAC,QAAO,SAAAC,GAAE,OAAIA,EAAGC,eAChBZ,KAAI,SAAAW,GAAE,OAAIA,EAAGE,QACbN,QAEH,SAASO,EAAWjC,GAElB,IAAMkC,EACJlC,EAAMmC,KAAKC,SAAS,QACnB1B,EAAI2B,UAAYrC,EAAMmC,KAAKC,SAAS,SACpC1B,EAAIqB,aAAe/B,EAAMmC,KAAKC,SAAS1B,EAAIsB,MAExCM,EACJtC,EAAMuC,QAAQH,SAAS,QACtBpC,EAAMuC,QAAQH,SAAS,SAAWf,EAAiBmB,MAAK,SAAAV,GAAE,OAAIA,EAAGO,aACjErC,EAAMuC,QAAQH,SAAS,QAAUf,EAAiBoB,YAClDzC,EAAMuC,QAAQG,UAAUf,GAA+Bc,UAE1D,OAAOP,GAAaI,EAOtB,OAJiBlC,IAAGuC,IAAI5B,GACrBc,OAAOI,GACPW,SAAQ,SAAA5C,GAAK,OAAIA,EAAM6C,UACvBnB,QAnCmCoB,CAAUnC,EAAKD,EAAKU,EAAON,EAAOC,W,4BCRnE,SAASgC,EAA4CC,GAE1D,OAAO5C,IAAGuC,IAAIK,GACXJ,SAAQ,SAACK,EAAUC,GAAX,OAAmB9C,IAAGuC,IAAIM,GAA4B9B,KAAI,SAAAgC,GAAI,MAAI,CAACA,EAAMD,SACjFtC,QCGE,IAAMwC,EACb,CACEC,KACA,CACE,KACA,IACA,KACA,MACA,OAEFC,OACA,CACE,OACA,UACA,MACA,OAEFC,KACA,CACE,KACA,OACA,OACA,OACA,OACA,OACA,OACA,QAEF7C,IACA,CACE,SACA,OACA,OACA,QACA,OACA,MACA,OACA,OACA,OACA,KACA,QACA,OACA,KACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,SACA,MACA,MACA,OACA,QACA,OACA,OACA,MACA,QACA,OACA,QACA,SACA,OACA,OACA,OACA,MACA,OACA,MACA,OAIE8C,EAAkBT,EAAkBK,GAE7BK,EAAUD,EAAgBE,SAASC,UAgBzC,SAASC,EAAa5B,EAAYsB,GAEvC,OAAQF,EAAeE,GAA4B5D,SAASsC,GAGvD,SAAS6B,EAAgB7B,GAE9B,OAAOwB,EAAgBlC,IAAIU,G,eC1FZ8B,G,WAMPC,GANH,SAAUD,EAAkBhD,GAA5B,iEAEL,uBAAOiD,EAAmBjD,GAAO,SAAClB,EAAWE,GAAZ,OAA0B,IAAIC,EAAIH,EAAGE,MAAtE,QAFK,OAGL,uBAAOiE,EAAmBjD,GAAO,SAAClB,EAAWE,GAAZ,OAA0B,IAAIC,EAAID,EAAGF,MAAtE,QAHK,uCAMP,SAAUmE,EAAmBjD,EAAckD,GAA3C,6EAEQC,EAAOD,EAASlD,EAAMX,OAAOP,EAAGkB,EAAMX,OAAOL,GAC3CA,EAAI,EAHd,YAGiBA,EAAImE,EAAKnE,GAH1B,iBAMI,IADIoE,OAA8BC,EAC1BvE,EAAIqE,EAAKrE,EAAI,EAAGA,GAAK,EAAGA,IAC9BsE,EAAYE,EAAUxE,EAAGkB,EAAMN,OAAOc,IAAI0C,EAASpE,EAAGE,IAAKoE,GAC7D,OARJ,SAQUA,EARV,OAG6BpE,IAH7B,uDAYA,SAASsE,EAAUxE,EAAWyE,EAAmDC,GAE/E,IAAMC,EA4BR,SAAsB3E,GAEpB,MAAO,CACL4E,MAAO5E,EACP6E,SAAU,EACVC,YAAa9E,EAAI,EACjB+E,OAAQ,EACRC,UAAWhF,EAAI,GAnCDiF,CAAajF,GAE7B,QAAiBuE,IAAdE,EACH,CACE,IAAMS,EAAUT,EAAU9C,WAAU,SAAAb,GAAG,OAAIA,EAAIqB,eAAagD,WAAWC,QAEvE,QAAeb,IAAZW,EACH,CACE,kBAA0BA,EAA1B,GAAO1D,EAAP,KAAgBY,EAAhB,KAAgBA,KAEhB,MAAO,CACLiD,SAAU7D,EACV8D,KAHarB,EAAgB7B,GAI7BmD,KAAMnD,EACNoD,IAAKb,EACLc,KAAMf,IAKZ,MAAO,CACLY,KAAM,MACNC,KAAM,GACNC,IAAKb,EACLc,KAAMf,GC9CV,IAyEEgB,EACAC,EA1EIC,EAAYC,cAAIC,cAAIC,cAAI,OAAQA,cAAI,OAAQA,cAAI,UAAWA,cAAI,QAASA,cAAI,UAE5EC,EAAcD,cAAI,OAClBE,EAAcF,cAAI,UAClBG,EAAcH,cAAI,QAElBI,EAAWC,cAAY,MACvBC,EAAWD,cAAY,MACvBE,EAAWF,cAAY,OAGvBG,EAAYC,iBA8DhBd,EA7DWI,cAAIE,EAAUC,GA8DzBN,EA9DuCU,EAiEhCG,gBACLC,cAAIf,EAAWG,cAAIY,cAAId,EAAWD,MAClC,mCAAEgB,EAAF,KAAQC,EAAR,WACA,CACE,CAACD,GAAME,OAAOD,EAAOpF,KAAI,wDACzBoF,EAAOpF,KAAI,mCAAEsF,EAAF,iBAAkBA,WArEjC,mCAAEC,EAAF,KAAQD,EAAR,WACC,CACCtE,KAAM/B,IAAGuC,IAAI+D,GAAMvF,KAAI,SAAAW,GAAE,OAAIA,EAAGqD,QAAczD,QAC9CuD,SAAU7E,IAAGuC,IAAI+D,GAAMvF,KAAI,SAACW,GAAD,OAAcA,EAAGmD,YACzCuB,OAAOpG,IAAGuC,IAAI8D,GAAMtF,KAAI,SAACW,GAAD,OAAcA,EAAGmD,aACzCvD,YAIDiF,EAAYjB,cAChBU,gBACED,GACA,gBAAGlB,EAAH,EAAGA,SAAH,MACC,CACC9C,KAFF,EAAaA,KAGXI,QAASnC,IAAGwG,IAAIC,GAAG,OACnB5B,SAAUA,MAGdmB,gBACEC,cAAIF,EAAWD,EAAUC,IACzB,mCAAEhE,EAAF,KAAQxB,EAAR,KAAa4B,EAAb,WACC,CACCJ,KAAMA,EAAKA,KACXI,QAASA,EAAQJ,KACjB8C,SAAU7E,IAAGwG,IAAIC,GAAIlG,EAAasE,UAAW6B,MAAM3E,EAAK8C,SAAU1C,EAAQ0C,eAK1E8B,EAAmBX,gBACvBC,cAAIM,EAAWZ,EAASL,cAAII,EAAWF,KACvC,mCAAEoB,EAAF,KAAQC,EAAR,KAAYpE,EAAZ,WACC,CACCV,KAAM6E,EAAK7E,KACXI,QAASyE,EAAKzE,QACdM,OAAQzC,IAAGwG,IAAIC,GAAGhE,EAAOsC,MACzBF,SAAU7E,IAAGwG,IAAIC,GAAII,EAAYhC,SAAYpC,EAAgBoC,UAAW6B,MAAME,EAAK/B,cAIjFiC,EAAQC,eAAK3B,EAAWuB,EAAkBvB,GAEhD,SAAS4B,EAAoBC,GAE3B,IAAMC,EAAaD,EAAME,WACrBF,EAAMG,WAAWrG,KAAI,SAAAsG,GAAG,OAAIA,EAAIC,UAChC,GACJ,OAAOtH,IAAGuC,IAAI2E,GACX/F,WAAU,SAAAoG,GAAO,OAChBL,EAAW9E,MAAK,SAAAoF,GAAS,OAGAC,EAH0BF,EAAQ1C,SAGF6C,EAHYF,EAAU3C,SAK5E4C,EAAeE,KAAOD,EAAiBC,MAC5CF,EAAeG,SAASF,GAH5B,IAA+BD,EAAgCC,Q,YC9ElDG,EAAiB,SAAC9H,EAAQ+H,EAASlI,GAiB9C,MAAO,CAAEmI,SAfI/H,IAAGuC,IAAIyF,MAClBF,EAAQnD,WAAWnC,SAAQ,oDAEtBzB,KAAI,SAAAkH,GAAQ,OAAIA,EAASxG,QAAO,SAAA0B,GAAI,OAAIK,EAAaL,EAAM,aAC3DhC,WAAU,SAAA8G,GAAQ,OAAIA,EAAS5F,aAC/B6F,iBAGLnH,KAAI,SAAAgH,GAAQ,MAAK,CAAE7E,OAAQ,UAAoBtB,KAAMmG,EAASnD,YAOvCuD,SALZL,EACVM,eACArH,IAAIsH,GACJ7F,SAAQ,SAAAd,GAAE,OAAIA,OAKnB,SAAS2G,EAAeC,GAEtB,IAAMC,EAAaD,EAASlG,MAAK,SAAAe,GAAI,OAAIA,EAAKnB,SAAS,WACvD,OAAOsG,EACJ7G,QAAO,SAAA0B,GAAI,OAAIA,EAAKnB,SAAS,SAAYuG,GAAcpF,EAAKnB,SAAS,SACrEsB,SAGE,IAAMkF,EAAmB,SAACzI,EAAQ+H,EAASlI,GAAlB,MAC7B,CACCmI,SAAUU,EAAgB,KAAM1I,EAAQ+H,EAASlI,GAC9CsI,aACAnH,KAAI,SAAAR,GAAG,MAAK,CAAEA,IAAKA,EAAIwC,KAAKnD,SAGtB8I,EAAqB,SAAC3I,EAAQ+H,EAASlI,GAElD,IAAM+I,EAAOF,EAAgB,OAAQ1I,EAAQ+H,EAAS,UACnDI,aACAnH,KAAI,SAAAR,GAAG,MAAK,CAAEA,IAAKA,EAAIwC,KAAK,cACzB6F,EAAOH,EAAgB,OAAQ1I,EAAQ+H,EAAS,UACnDI,aACAnH,KAAI,SAAAR,GAAG,MAAK,CAAEA,IAAKA,EAAIwC,KAAK,cAC/B,MAAO,CACLgF,SAAUY,EAAKvC,OAAOwC,KAI1B,SAASH,EAAgBI,EAAoB9I,EAAa+H,EAAkBlI,GAE1E,IAAMkJ,EAAS9I,IAAGuC,IAAIyF,MACpBF,EAAQnD,WAAWnC,SAAQ,mCAAEjC,EAAF,iBAEtBkB,QAAO,SAAA0B,GAAI,OAAIA,EAAKnB,SAAS6G,MAC7BX,aACArH,YAAW,mCAAEG,EAAF,gBAAgB,CAACA,EAAOT,UAG1C,SAASwI,EAAiB/H,EAAeT,GAEvC,IAAMyI,EAAUlB,EAAQ5G,IAAIX,GACtB0I,EAAS1I,EAAIwC,KAAKnD,GAClBsJ,EAAWpB,EAAQ5G,IAAI+H,GAM7B,GAJEA,EAAOE,SAASpJ,IAChBqJ,EAAkBJ,EAAS,QAAQ3G,WACnC+G,EAAkBF,EAAU,QAAQ7G,UAGtC,CAAC,IAAD,EAGQgH,EAFOD,EAAkBF,EAAU,QACtCxC,MAAM0C,EAAkBF,EAAU,OACd1H,QAAQT,KAAI,SAAAW,GAAE,OAAIqH,EAAiBrH,EAAIuH,MAC9D,OAAGI,EAAUjH,MAAK,SAAAV,GAAE,OAAIA,EAAGW,aAClBrC,IAAGuC,IAAIyF,SAEP,EAAAhI,IAAGuC,IAAIyF,MAAM,CAAC,CAAChH,EAAOT,MAAO6F,OAA7B,oBAAuCiD,IAGhD,OAAOrJ,IAAGuC,IAAIyF,QAQlB,OALsBhI,IAAGY,IAAIkI,EAC1B/H,KAAI,SAACR,EAAKS,GAAN,OAAgB+H,EAAiB/H,EAAOT,MAC5C+I,WAAW9G,SAAQ,SAAAd,GAAE,OAAIA,MAO9B,SAAS0H,EAAkBxG,EAA0DO,GAEnF,YAAaY,IAAVnB,EACMA,EAAMnB,QAAO,SAAAwG,GAAQ,OAAIA,EAASjG,SAASmB,MAAOG,SAAShC,QAE3DtB,IAAGwG,IAAIC,KAGX,SAAS8C,GAAexJ,EAAa+H,GAE1C,OAAGA,EAAQ1F,KAAKoH,IACP,OAcX,SAAgBzJ,EAAa+H,GAE3B,IAAMa,EAAOF,EAAgB,OAAQ1I,EAAQ+H,EAAS,UAChDc,EAAOH,EAAgB,OAAQ1I,EAAQ+H,EAAS,UACtD,OAAOa,EAAKhB,KAAO,GAAKiB,EAAKjB,KAAO,EAjB5B8B,CAAO1J,EAAQ+H,GACd,OAEA,SAGX,SAAS0B,GAAOlB,GAEd,IAAMoB,EAAapB,EAASlG,MAAK,SAAAe,GAAI,OAAIA,EAAKnB,SAAS,WACjD2H,EAAWrB,EAASlG,MAAK,SAAAe,GAAI,OAAIA,EAAKnB,SAAS,SACrD,OAAO0H,GAAcC,EClGvB,ICPKC,GDOCC,GAAiB,CAAEjK,WAAOmE,EAAWhE,OAAQ,IAAIJ,EAAIF,IAAKA,KAAMU,QAASH,IAAGY,MAAoBkH,QAAS9H,IAAGY,MAAiBkJ,UAAW9J,IAAGwG,MAAOM,MAAO,QAKlJiD,GAAb,kDAEE,WAAYhK,EAAaI,EAAkBP,GAC1C,oBACC,IAAMc,EAAQ,IAAIR,EAAMH,EAAQI,GAC1BQ,EFvBF,SAA2BD,GAEhC,IAAMsJ,EAAUtG,EAAkBhD,GAKlC,OAJiBV,IAAGuC,IAAIyH,GACrBjJ,KAAI,SAAAkG,GAAK,OAAIgD,oBAAUnD,EAAMoD,MAAMjD,OACnCzE,QAAQwE,GAEKzD,UEgBG4G,CAAkBzJ,GAC9BoH,EAAUrH,EAAaC,EAAOC,GAG9BmJ,EAAY9J,IAAGuC,IAAI5B,GAAW6B,SAAQ,SAAA5C,GAAK,OAAIA,EAAMiF,YACxDuB,OAAO0B,EAAQwB,WAAW9G,SAAQ,SAAA8D,GAAI,OAAIA,EAAK7E,QAAO,SAAC0B,EAAMnC,GAAP,OAAiBb,EAAQe,IAAIF,GAAQW,cAAgBwB,EAAKd,aAAWiB,aAC3HhC,QAEGwF,EAAQyC,GAAexJ,EAAQ+H,GAVvC,mBAYQ,CACJlI,MAAOA,EACPG,OAAQA,EACRI,QAASA,EACT2H,QAASA,EACTgC,UAAWA,EACXhD,MAAOA,IArBb,uCA+BE,SAAI3D,EAAYvD,GAEd,IAAMwK,EAAgBjH,EAAKtD,KAAKE,OAAQF,KAAKiI,QAASlI,GAChDyK,EE7CH,SAAsBC,EAAwBC,GAEnD,IAAIC,EAAOF,EAMX,OALGC,EAAKxC,WACNyC,EAAOA,EAAKC,MAAMF,EAAKxC,SAAShH,KAAI,SAACwJ,EAAMvJ,GAAP,OAAiBwJ,EAAKtJ,IAAIF,GAAQyJ,MAAMF,QAE3EA,EAAKpC,WACNqC,EAAOA,EAAKE,UAAUH,EAAKpC,WACtBqC,EFqCcG,CAAa9K,KAAKM,QAASiK,GAC9C,OAAO,IAAIL,EAAKlK,KAAKE,OAAQsK,EAAYzK,OAnC7C,GAA0BI,IAAGC,OAAc4J,K,SGTrCe,GAAe,CAAE5J,MAAOvB,IAAKc,IAAK,IAAIZ,EAAIF,IAAKA,KAAMyD,OAAQ,OAAQtB,KAAM,OAKpEiJ,GAAb,kDAEE,WAAYvK,GACX,IAAD,6BACE,cAAMA,GACNwK,IACiB,YAAfxK,EAAI4C,QAAwBM,EAAalD,EAAIsB,KAAM,OAD/C,4CAEiCtB,EAAIsB,KAFrC,OAFR,EAHF,6CAeE,WAEE,MAAuB,YAAhB/B,KAAKqD,SAjBhB,oBAuBE,WAEE,MAAuB,SAAhBrD,KAAKqD,SAzBhB,kBAiCE,SAAKtD,GAEH,OAAOC,KAAKkL,IAAI,MAAOlL,KAAKU,IAAIwC,KAAKnD,QAnCzC,GAAyBI,IAAGC,OAAa2K,M,SFRpChB,O,eAAAA,I,qBAAAA,I,mBAAAA,I,aAAAA,I,gBAAAA,Q,KAuDL,IAAMoB,GAAWC,qBAAuB,CACtC,EAAC,EAAO,mBAAyBrB,GAAWsB,MAC5C,EAAC,EAAO,WAAyBtB,GAAWuB,SAC5C,EAAC,EAAO,wBAAyBvB,GAAWwB,QAC5C,EAAC,EAAO,OAAyBxB,GAAWyB,KAC5C,EAAC,EAAO,QAAyBzB,GAAW0B,QAGxCC,GAAWvL,IAAGwG,IAAYnD,GAC1BmI,GAAcxL,IAAGwG,IAAYxD,EAAc,KAEjD,SAASyI,GAAU7J,EAAcD,GAE/B,IAAM+J,EAAW9J,EAAK+J,cAChB7I,EAAMnB,EAAY6J,GAAcD,GACtC,GAAGzI,EAAId,SAAS0J,GACd,OAAOA,EAGP,IAAME,EAAW9I,EAAIrB,QAAO,SAAAC,GAAE,OAAIA,EAAGmK,WAAWH,MAChD,GAAqB,IAAlBE,EAASjE,KACV,OAAOiE,EAAShH,QACb,MAAGgH,EAASvJ,UACT,IAAIyJ,MAAJ,gBAAmBlK,EAAnB,yBAEA,IAAIkK,MAAJ,gBAAmBlK,EAAnB,4BAA2CgK,EAASG,KAAK,WAAzD,QAMZ,IAAMC,GAAiBhG,gBACrBT,cAAIqE,GAAWsB,OACf,SAACjI,GAAD,MACA,CAAC,CACCC,OAAQ,OACRtB,KAAM6J,GAAUxI,EAAK8B,MAAM,QAIzBkH,GAAoBjG,gBACxBT,cAAIqE,GAAWuB,UACf,SAAClI,GAAD,MACA,CAAC,CACCC,OAAQ,UACRtB,KAAM6J,GAAUxI,EAAK8B,MAAM,QAIzBmH,GAAWlG,gBACfT,cAAIqE,GAAWyB,MACf,SAACpI,GAAD,MAA0B,MAGtBkJ,GAAqB9G,cAAIC,cAAI0G,GAAgBC,KAEnD,SAASnF,GAASsF,EAAmCnF,GAEnD,OAAOoF,6BAAmBpC,oBAAUmC,EAAWlC,MAAMc,GAASd,MAAMjD,MGnHtE,IAAMqF,GAAiB,CAAEC,OAAQ,GAAIxM,OAAQ,IAAIJ,EAAIF,IAAKA,KAAM+M,MAAOxM,IAAGyM,OAAQC,QAASjN,KAE9EkN,GAAb,kDAEE,WAAYC,GACX,oBACC,MHGG,SAAsBA,GAI3B,IAAMC,OAA8B9I,IAAlB6I,EAAOE,OACrB9M,IAAGY,IAAIgM,EAAOE,QAAQ/L,KAAI,SAAAkG,GAAK,OAAIH,GAAMqF,GAAoBlF,GAAiB8F,UAC9E/M,IAAGY,MAEDoM,EAAmBhH,gBACvBT,cAAIqE,GAAWwB,SACf,SAACnI,GAEC,IAAM6J,EAASD,EAAU3L,IAAI+B,EAAK8B,MAClC,QAAchB,IAAX+I,EACD,OAAOA,EAEP,MAAM,IAAIhB,MAAJ,iBAAoB7I,EAAK8B,KAAzB,oBAGNkI,EAAiB5H,cAAIC,cAAI0G,GAAgBC,GAAmBe,EAAkBd,KAE9EgB,EAAKlN,IAAGuC,IAAIqK,EAAOM,IACtBnM,KAAI,SAAAkG,GAAK,OAAIH,GAAMmG,EAAgBhG,MACnCkG,cAEGC,EAAYF,EAAGnM,KAAI,SAAAkG,GAAK,OAAIA,EAAMoG,UAAQC,SAChD,GAAsB,IAAnBF,EAAUzF,KACX,MAAM,IAAImE,MAAM,yBAElB,IAAM/L,EAAS,IAAIJ,EAAIyN,EAAUxI,QAAUwI,EAAUzF,MACrD,GAAgB,IAAb5H,EAAOP,EACR,MAAM,IAAIsM,MAAM,8BAClB,GAAGsB,EAAUG,KAAK,GAAGnL,MAAK,SAAAV,GAAE,OAAIA,IAAO3B,EAAOP,KAC5C,MAAM,IAAIsM,MAAM,iCAClB,IAAM0B,EAASN,EACZ1K,SAAQ,SAACyE,EAAOvH,GAAR,OACPM,IAAGuC,IAAI0E,GAAOzE,SAAQ,SAACoE,EAAMpH,GAAP,OACpBQ,IAAGuC,IAAIqE,GAAM7F,KAAI,SAAA0M,GAAG,oCAAWA,GAAX,IAAgBlN,IAAK,IAAIZ,EAAIH,EAAGE,cACvDqB,KAAI,SAACT,EAAKU,GAAN,OAAgB,IAAI6J,GAAJ,6BAAavK,GAAb,IAAkBU,MAAOA,QAC7CuC,UAEH,MAAO,CACLgJ,OAAQK,EAAOhL,KACf7B,OAAQA,EACRyN,OAAQA,GG/C2BE,CAAad,GAAxCL,EAAR,EAAQA,OAAQxM,EAAhB,EAAgBA,OAAQyN,EAAxB,EAAwBA,OAClBrN,EAAUH,IAAGY,IAAIZ,IAAGuC,IAAIiL,GAAQtF,cAChCyF,EAAY3N,IAAGyM,KAAKhG,GAAG,IAAIsD,GAAKhK,EAAQI,IAHhD,mBAKQ,CACJoM,OAAQA,EACRxM,OAAQA,EACRyM,MAAOmB,EACPjB,QAAS,IAZf,wCAmBE,WAEE,IAAMhL,EAAK7B,KAAK2M,MAAMtL,IAAIrB,KAAK6M,SAE/B,OADA5B,IAAOpJ,EAAI,oBACJA,IAvBX,wBA0BE,WACC,IADUkM,EACX,wDACQpB,EAAQoB,EACV/N,KAAK2M,MACL3M,KAAK2M,MAAMqB,KAAKhO,KAAK6M,QAAU,GACnC,OAAOF,EACJzL,KAAI,SAAAgC,GAAI,OAAIA,EAAKnD,SACjB2D,YAjCP,wBAoCE,WACC,IADUuK,EACX,wDACE,OAAGjO,KAAK6M,QAAU,EACT7M,KAAKkL,IAAI,UAAW+C,EAAM,EAAIjO,KAAK6M,QAAU,GAE7C7M,OAzCb,yBA4CE,WACC,IADWiO,EACZ,wDACE,OAAGjO,KAAK6M,QAAU7M,KAAK2M,MAAM7E,KAAO,EAC3B9H,KAAKkL,IAAI,UAAW+C,EAAMjO,KAAK2M,MAAM7E,KAAO,EAAI9H,KAAK6M,QAAU,GAE/D7M,OAjDb,wBAoDE,SAAWmB,GAET,OAAGA,GAAS,GAAKA,EAAQnB,KAAK2M,MAAM7E,KAC3B9H,KAAKkL,IAAI,UAAW/J,GAEpBnB,OAzDb,wBA4DE,SAAWD,GAET,IAAMmO,EAASlO,KAAKkO,OAEpB,OADAjD,IAAwB,WAAjBiD,EAAOjH,MAAoB,uBAC3BjH,KAAKkD,KAAKnD,EAAO4I,EAAY3I,KAAK6M,QAAU,KAhEvD,sBAmEE,WAEE,IAAMqB,EAASlO,KAAKkO,OAGpB,OAFAjD,IAA6B,SAAtBjL,KAAKkO,OAAOjH,MAAkB,qBACrCgE,IAAOiD,EAAOnO,MAAO,mCACdC,KAAKkD,KAAKgL,EAAOnO,MAAO8I,EAAc7I,KAAK6M,WAxEtD,kBA2EE,SAAa9M,EAAkBoO,EAAgBC,GAE7C,IAAMC,EAAKC,KAAKC,MAEVL,EAASlO,KAAKkO,OAEdM,EADWN,EAAOO,IAAIN,EAAUpO,GACb0O,IAAIzG,EAAUjI,GAEvC,GAAGyO,EAAQlO,QAAQoO,OAAOR,EAAO5N,SAC/B,OAAON,KAET,IAAM2O,EAAW3O,KAAK2M,MAAMqB,KAAKI,GAAYQ,KAAKJ,GAE5CK,EAAKP,KAAKC,MAGhB,OAFAO,QAAQC,IAAR,gBAAqBF,EAAKR,IAEnBrO,KAAK4K,MAAM,CAAE+B,MAAOgC,EAAU9B,QAASuB,MA3FlD,0BA8FE,SAAaY,GAEX,IAAMjP,EAAQI,IAAGuC,IAAIsM,EAAUC,MAAM,KAAKrN,OAAOrC,GAAa+N,cAC9D,GAAkB,IAAfvN,EAAM+H,KACP,OAAO9H,KAUT,IAAMkP,EAAWlP,KAAKmP,YAAW,GAEjC,OADgBpP,EAAMqP,QAAO,SAACC,EAAMC,GAAP,OAT7B,SAAcD,GAGZ,IADA,IAAIE,EAAUF,EACiB,SAAzBE,EAAQrB,OAAOjH,OACnBsI,EAAUA,EAAQC,WACpB,OAAOD,EAIyCrM,CAAKmM,EAAKI,WAAWH,MAAaJ,GACrEC,YAAW,OA9G9B,GAA0BhP,IAAGC,OAAcqM,KCVrCiD,GACN,CACE,SAAU,CAAC,OAAQ,WACnB,SAAU,CAAC,OAAQ,aACnB,SAAU,CAAC,OAAQ,aACnB,SAAU,CAAC,OAAQ,cAEnB,MAAU,CAAC,OAAQ,aACnB,OAAU,CAAC,OAAQ,UACnB,KAAU,CAAC,OAAQ,QACnB,KAAU,CAAC,OAAQ,QAGfC,GAAqB7M,EAAkB4M,IAOhCE,GAAb,4MAEEC,OAAS,kBAAM,MAFjB,EAcUC,WAAa,SAACxM,GAEpB,IAAMyM,EAASJ,GAAmBtO,IAAIiC,EAAK0M,OACxCD,GAAYzM,EAAK2M,QAAU1Q,EAAYwQ,KAExC,EAAKG,MAAMC,SAASJ,GACpBzM,EAAK8M,mBApBX,uDAIE,WAEEC,OAAOC,iBAAiB,UAAWtQ,KAAK8P,cAN5C,kCASE,WAEEO,OAAOE,oBAAoB,UAAWvQ,KAAK8P,gBAX/C,GAA+BU,aAyBxB,SAASC,GAAgBV,GAE9B,OAAOL,GAAUK,GACd7O,KAAI,SAAAa,GAAI,iBAAQA,EAAK2O,QAAQ,OAAQ,IAA7B,Q,gBCrCTC,G,oBCPSC,GACb,CACEnQ,IAAQ,CAAEoQ,KAAM,QAChBzN,KAAQ,CAAEyN,KAAM,QAChBxN,OAAQ,CAAEwN,KAAM,QAChBvN,KAAQ,CAAEuN,KAAM,SAGLC,GACb,CACEC,OAAQ,CAAEF,KAAM,OAAQG,SAAU,QAClCC,KAAQ,CAAEJ,KAAM,OAAQG,SAAU,QAClCE,KAAQ,CAAEL,KAAM,OAAQG,SAAU,YAClCG,MAAQ,CAAEN,KAAM,OAAQG,SAAU,YAClCI,KAAQ,CAAEP,KAAM,OAAQG,SAAU,YAClCK,IAAQ,CAAER,KAAM,QAChBS,KAAQ,CAAET,KAAM,QAChBU,KAAQ,CAAEV,KAAM,QAChBW,KAAQ,CAAEX,KAAM,QAChBxD,GAAQ,CAAEwD,KAAM,QAChBY,MAAQ,CAAEZ,KAAM,QAChBa,KAAQ,CAAEb,KAAM,QAChBc,GAAQ,CAAEd,KAAM,OAAQG,SAAU,YAClCY,KAAQ,CAAEf,KAAM,QAChBgB,KAAQ,CAAEhB,KAAM,QAChBiB,IAAQ,CAAEjB,KAAM,QAChBkB,KAAQ,CAAElB,KAAM,QAChBlG,KAAQ,CAAEkG,KAAM,QAChBmB,KAAQ,CAAEnB,KAAM,QAChBoB,KAAQ,CAAEpB,KAAM,QAChBqB,KAAQ,CAAErB,KAAM,QAChBsB,KAAQ,CAAEtB,KAAM,QAChBd,OAAQ,CAAEc,KAAM,OAAQG,SAAU,YAClCoB,IAAQ,CAAEvB,KAAM,QAChBwB,IAAQ,CAAExB,KAAM,QAChByB,KAAQ,CAAEzB,KAAM,QAChBzJ,MAAQ,CAAEyJ,KAAM,OAAQG,SAAU,QAClCuB,KAAQ,CAAE1B,KAAM,OAAQG,SAAU,YAClCwB,KAAQ,CAAE3B,KAAM,OAAQG,SAAU,YAClCyB,IAAQ,CAAE5B,KAAM,OAAQG,SAAU,YAClC/J,MAAQ,CAAE4J,KAAM,QAChB6B,KAAQ,CAAE7B,KAAM,QAChBlE,MAAQ,CAAEkE,KAAM,OAAQG,SAAU,YAClC1K,OAAQ,CAAEuK,KAAM,QAChBxK,KAAQ,CAAEwK,KAAM,OAAQG,SAAU,QAClC2B,KAAQ,CAAE9B,KAAM,OAAQG,SAAU,YAClC4B,KAAQ,CAAE/B,KAAM,OAAQG,SAAU,QAClC6B,IAAQ,CAAEhC,KAAM,QAChBiC,KAAQ,CAAEjC,KAAM,OAAQG,SAAU,QAClC+B,IAAQ,CAAElC,KAAM,OAAQG,SAAU,YAClCgC,GAAQ,CAAEnC,KAAM,S,SDpDX,SAASoC,GAAYlR,GAK1B,OAHI4O,KACFA,GAQJ,WAEE,IACMuC,EADcC,SAASC,cAAc,UACZC,WAAW,MAG1C,SAASC,EAAWzH,EAAkB0H,GAGpC,MAAO,CAAE1H,SAAUA,EAAU2H,SADZC,KAAKC,MAAMH,EAAcL,EAAWS,YAAY9H,GAAU+H,QAI7E,SAASX,EAAYlR,GAEnB,OAAGA,EAAKyL,OAAS,EACR,CAAC8F,EAAWvR,EAAM8R,KAQzB,UALkB1T,IAAG2T,MAAM,EAAG/R,EAAKyL,OAAS,GACzCtM,KAAI,SAAA6S,GAAI,MAAI,CACXT,EAAWvR,EAAKiS,UAAU,EAAGD,GAAOE,IACpCX,EAAWvR,EAAKiS,UAAUD,GAAOE,QAGlCC,OAAM,mCAAEtG,EAAF,KAAOuG,EAAP,YAAeV,KAAKW,IAAIxG,EAAI4F,SAAWW,EAAGX,oBADnD,QACiE,GAPlE,IAAD,EAbFN,EAAWmB,KAAO,0BAwBlB,IA3BF,EA2BQC,EAAmD,GA3B3D,eA4BoB9Q,GA5BpB,IA4BE,IAAI,EAAJ,0BAAUzB,EAAV,QACEuS,EAAOvS,GAAQkR,EAAYlR,IA7B/B,8BA+BE,OAAOuS,EAxCaC,IAEb5D,GAAgB5O,GAyCzB,IAAM8R,GAAsB,IACtBI,GAAqB,MEnDpB,SAASO,GAAYC,EAAsBC,EAA4BtL,EAAa4H,GAEzF,IAAG0D,GAA2B,aAAb1D,GAAwC,aAAbA,EAuBvC,OAAG0D,GAA0B,SAAb1D,EAEhB5H,EAAOzJ,EAAI+U,EAAU/U,EAChB,YACAyJ,EAAOzJ,EAAI+U,EAAU/U,EACrB,aAEC8U,EAGF,OA/BP,IAAME,EACJvL,EAAOzJ,EAAI+U,EAAU/U,EAAI,EACzByJ,EAAOvJ,EAAI6U,EAAU7U,EAAI,IACzBuJ,EAAOzJ,EAAI+U,EAAU/U,EAAI,GACzByJ,EAAOvJ,EAAI6U,EAAU7U,EAAI,SACzBqE,EAEF,QAAkBA,IAAfyQ,EACH,CAAC,IAAD,EACQC,EAA2B,aAAb5D,EAA0B,IAAO,EAC/C6D,EAAW,UAwBvB,SAAgCC,EAAgBF,GAE9C,IAAMhD,EAAOmD,GAAuBC,KAAKF,GACzC,OAAGlD,EACMqD,WAAWrD,EAAK,IAAMgD,OAE7B,EA9BsBM,CAAuBT,EAAcG,UAAxC,QAAuD,EAClE7C,EAAO0B,KAAK0B,MAAMN,GAClBnK,EAAOiK,GAAcE,EAAc9C,GAIzC,MAAM,UAAN,OADkB4C,GAFC5C,GAAQrH,IAAS,GAAM,EAAI,IAAMA,GAAQ,IAAO,EAAI,IAE3BkK,EAC5C,SAGA,OAAOH,EAwBb,IAAMM,GAAyB,uB,QC3ClBK,GAAOC,gBAAK,SAAS,GACjC,IADmC5U,EACpC,EADoCA,IAAKwJ,EACzC,EADyCA,UAEjCqL,EAAY7U,EAAIqB,YAClBgP,GAAcrQ,EAAIsB,MAClB6O,GAAkBhN,EAAgBnD,EAAIsB,OACpCiP,EAAWvQ,EAAIqB,YAAcwT,EAAUtE,cAAW9M,EAElDqR,EAAcC,KAClB,OACA,CAAE,QAAW/U,EAAIqB,aACjB,CAAE,KAAQmI,IAGNwL,EA2CR,SAAsBhH,GAEpB,IAAMiH,EAAMC,mBAEZ,OADAC,qBAAU,WAAQF,EAAIG,QAAUpH,KACzBiH,EAAIG,QA/COC,CAAUrV,GAC5B,EAAmCsV,mBAAiB,QAApD,mBAAOtB,EAAP,KAAqBuB,EAArB,KACMlB,GAAkB,OAATW,QAAS,IAATA,OAAA,EAAAA,EAAW1T,QAAStB,EAAIsB,KACnCyS,GAAYC,EAAcgB,EAAU/U,IAAKD,EAAIC,IAAKsQ,GAClD,OACD8D,IAAWL,GACZuB,EAAWlB,GAEb,IAAM/R,EACN,CACEkT,KAAK,GAAD,OAAKxV,EAAIC,IAAIf,EAAb,MACJuW,IAAI,GAAD,OAAKzV,EAAIC,IAAIb,EAAb,MACHsW,UAAWrB,EACXsB,MAAOd,EAAUzE,MAGnB,OACE,sBAAKwF,UAAWd,EAAae,MAAOvT,EAApC,SACGyD,GAAK/F,QAKZ,SAAS+F,GAAK/F,GAEZ,GAAGA,EAAIqB,YACL,OAAO,gCAAOrB,EAAIsB,OAGlB,IAAMqF,EAAQ6L,GAAYxS,EAAIsB,MACxBwU,EAA8B,IAAjBnP,EAAMoG,OAAe,WAAa,UAC/C+H,EAAcC,KAAW,OAAQe,GAEvC,OAAOnP,EAAMlG,KAAI,WAAyBC,GAAzB,IAAG0K,EAAH,EAAGA,SAAU2H,EAAb,EAAaA,SAAb,OACf,uBAAkB6C,UAAWd,EAC3Be,MAAO,CAAEE,sBAAsB,UAAD,OAAYhD,EAAZ,gBADhC,SAGG3H,GAHQ1K,MC1CV,SAASsV,GAAGC,GAEjB,IAAMC,EAAUD,EAAGpW,QAChBY,KAAI,SAACT,EAAKmW,GAAN,OACH,eAACxB,GAAD,CAAsB3U,IAAKA,EAAKwJ,UAAWyM,EAAGzM,UAAU9H,SAASyU,IAAtDA,MAEZrO,eAEKvE,EAAO,CACX4P,MAAM,GAAD,OAAK8C,EAAG1S,KAAKrE,EAAb,MACLkX,OAAO,GAAD,OAAKH,EAAG1S,KAAKnE,EAAb,OAGV,OACE,uBAAKwW,UAAU,KAAKC,MAAOtS,EAA3B,UACE,+BACG2S,IAGDD,EAAG/M,QACD,uBAAK0M,UAAU,OAAOC,MAAOtS,EAA7B,UACE,oBAAGqS,UAAU,eAAb,kBACA,oBAAGA,UAAU,YAAb,yB,UCvBCS,GAAQ,SAAC,GAAD,IAAG/W,EAAH,EAAGA,MAAO8M,EAAV,EAAUA,QAASkK,EAAnB,EAAmBA,aAAcC,EAAjC,EAAiCA,cAAjC,OACnB,uCACE,sBAAKX,UAAU,YAAf,SACE,sBAAKA,UAAU,QAAQC,MAAO,CAAEL,KAAK,GAAD,OAAKvV,GAAImM,EAAS9M,EAAMyN,QAAxB,OAApC,SACGzN,EAAMmB,KAAI,SAACoO,EAAWnO,GAAZ,OACT,eAAC,GAAD,CAEEmO,UAAWA,EACX2H,WAAY9V,EAAQ0L,EACpBqK,OAAQ,kBAAMH,EAAa5V,KAHtBA,UASb,uBAAKkV,UAAU,YAAf,UACE,yBACEA,UAAWb,KAAW,CAAE,KAAoB,IAAZ3I,IAChCsK,MAAM,yBACNC,QAASvK,EAAU,EAAI,kBA+D/B,SAAsB9M,EAA2C8M,GAE/D,IAAMmC,EAAYjP,EAAMsX,MAAM,EAAGxK,EAAU,GAAGX,KAAK,IACnDoL,UAAUC,UAAUC,UAAUxI,GAlEKyI,CAAa1X,EAAO8M,IAAW,aAH9D,0BAOA,yBACEsK,MAAO,4DACPC,QAAS,kBA+DjB,SAAqBJ,GAEhBM,UAAUC,UAAUG,UACrBJ,UAAUC,UAAUG,WAAWC,MAAK,SAAA5X,GAAK,OAAIiX,EAAcjX,MAlExC6X,CAAYZ,IAF7B,kCAgBN,SAAS9M,GAAT,GACC,IADeoF,EAChB,EADgBA,UAAW2H,EAC3B,EAD2BA,WAAYC,EACvC,EADuCA,OAE/B3B,EAAcC,KAAW,CAAE,KAAQyB,EAAa,IAChDzX,EAAU8P,EAAYuI,GAAUvI,GAAa,GAE7CwI,EAAYrE,KAAKW,IAAI6C,GACrBc,EAAYD,GAAa,EAAkB,IAAdA,EAAkB,MAAQ,KAAO,OAC9DE,EAAiBf,EAAa,EAAI,SAAU,QAE5ClH,EAAuB,IAAd+H,EAAA,UADG,KACH,kBAAwCrH,GAAgBuH,GAAgB9L,KAAK,UAAa,GACnG9I,EAAOkM,EACM,IAAf2H,EACE,WADF,eAEUc,EAFV,YAEuBC,GAFvB,OAEwCjI,GAHtB,mBAFJ,KAEI,kBAIaU,GAAgB,QAAQvE,KAAK,UAEhE,OACE,sBAAKmK,UAAU,OAAf,SACE,yBACEA,UAAWd,EACX4B,MAAO/T,EACPgU,QAAwB,IAAfH,EAAmBC,EAAS,aAHvC,SAKG1X,MAMT,SAASkB,GAAImB,EAAYV,GAOvB,OAAO8L,IALM9L,GAAS6C,IACjBA,GAAO7C,GAAS,EACjBU,GAAMmC,GACJA,GAAOnC,EAAK,EACZ,GAKR,IAAMmC,GAAO,GACPiJ,GAAS,IAcf,IAAM4K,GACN,CACE,SAAK,QACL,SAAK,QACL,SAAK,OACL,SAAK,QCzGMI,GAAb,4MAEEpI,OAAS,kBAAM,MAFjB,EAoBU7L,KAAO,IApBjB,EAsBUkU,WAtBV,IAwBUC,UAAY,WAElB,EAAKC,OACL,EAAKlI,MAAMmI,WA3Bf,uDAIE,WAEErY,KAAKsD,SANT,gCASE,SAAmBgV,GAEjBtY,KAAKoY,OACLpY,KAAKsD,SAZT,kCAeE,WAEEtD,KAAKoY,SAjBT,kBA8BE,WAEEpY,KAAKkY,MAAQK,YAAYvY,KAAKmY,UAAWnY,KAAKgE,QAhClD,kBAmCE,WAEKhE,KAAKkY,OACNM,cAAcxY,KAAKkY,WAtCzB,GAA8B1H,aCQjBiI,GAAb,kDAEE,WAAY/B,GACX,IAAD,8BACE,cAAMA,IAmCAgC,aAAe,kBACrB,EAAKC,SAAS,CAAEtJ,KAAM,EAAKuJ,MAAMvJ,KAAKG,cArCxC,EAuCQqJ,eAAiB,SAAC1X,GAAD,OACvB,EAAKwX,SAAS,CAAEtJ,KAAM,EAAKuJ,MAAMvJ,KAAKyJ,WAAW3X,MAxCnD,EA0CQ4X,gBAAkB,SAAChZ,GAAD,OACxB,EAAK4Y,SAAS,CAAEtJ,KAAM,EAAKuJ,MAAMvJ,KAAK2J,aAAajZ,MA3CrD,EA6CQ+P,WAAa,SAACC,GAEpB,IAAIxQ,EAAYwQ,IACmB,WAAjC,EAAK6I,MAAMvJ,KAAKnB,OAAOjH,MACzB,CACE,IAAM3D,EAAO,EAAK2V,WAAWlJ,GAC7B,EAAK4I,SAAS,CAAEtJ,KAAM/L,EAAK,EAAKsV,MAAMvJ,UAnD1C,EAuDQ4J,WACR,CACE,SAAU,SAAA5J,GAAI,OAAIA,EAAKI,WAAW,WAClC,SAAU,SAAAJ,GAAI,OAAIA,EAAKI,WAAW,WAClC,SAAU,SAAAJ,GAAI,OAAIA,EAAKI,WAAW,WAClC,SAAU,SAAAJ,GAAI,OAAIA,EAAKI,WAAW,WAClC,MAAU,SAAAJ,GAAI,OAAIA,EAAKF,cACvB,OAAU,SAAAE,GAAI,OAAIA,EAAK6J,eACvB,KAAU,SAAA7J,GAAI,OAAIA,EAAKF,YAAW,IAClC,KAAU,SAAAE,GAAI,OAAIA,EAAK6J,aAAY,KA9DnC,EAAKN,MAAQ,CAAEvJ,KAAM,IAAIvC,GAAK4J,EAAG3J,SAFnC,EAHF,0CAQE,WAEE,IAAMsC,EAAOrP,KAAK4Y,MAAMvJ,KAClBnB,EAASmB,EAAKnB,OAEpB,OACE,kCACE,sBAAKmI,UAAU,SAAf,SACGhH,EAAK3C,SAER,eAAC+J,GAAD,CACEzS,KAAMqL,EAAKnP,OACXI,QAAS4N,EAAO5N,QAChB2J,UAAWiE,EAAOjE,UAClBN,OAAyB,SAAjBuE,EAAOjH,QAEjB,eAAC,GAAD,CACElH,MAAOsP,EAAK8J,YAAW,GACvBtM,QAASwC,EAAKxC,QACdkK,aAAc/W,KAAK6Y,eACnB7B,cAAehX,KAAK+Y,kBAEtB,eAAC,GAAD,CAAW5I,SAAUnQ,KAAK8P,aAEP,SAAjB5B,EAAOjH,OACL,eAAC,GAAD,CAAUoR,QAASrY,KAAK0Y,sBAjCpC,GAA+BlI,a,iBCXlB4I,GAAS,SAAC,GAAD,IAAGlC,EAAH,EAAGA,OAAH,OACpB,uBAAKb,UAAU,SAAf,UACE,6DACA,sBAAKA,UAAU,SAAf,SACGgD,GAAUnY,KAAI,SAAC6L,EAAQ5L,GAAT,OACb,yBAEEiW,QAAS,kBAAMF,EAAOnK,IAFxB,SAIGA,EAAOhL,MAHHZ,YCEFmY,GAAb,kDAEE,WAAY5C,GACX,IAAD,8BACE,cAAMA,IAwBA6C,SAAW,SAACxM,GAAD,OACjB,EAAK4L,SAAS,CAAE5L,OAAQA,KA1B1B,EA4BQyM,UAAY,kBAClB,EAAKb,SAAS,CAAE5L,YAAQ7I,KA3BxB,EAAK0U,MAAQ,GAFf,EAHF,0CAUE,WAEE,OACE,uCACE,0BAAQxB,QAASpX,KAAKwZ,UAAtB,UACE,+CACA,+CACA,+DAGAxZ,KAAK4Y,MAAM7L,OACP,eAAC,GAAD,CAAWA,OAAQ/M,KAAK4Y,MAAM7L,SAC9B,eAAC,GAAD,CAAQmK,OAAQlX,KAAKuZ,kBAtBnC,GAA4B/I,aCKbiJ,GAfS,SAACC,GAEpBA,GAAeA,aAAuBC,UAEvC,6BAAqBhC,MAAK,YACzB,IAD4BiC,EAC7B,EAD6BA,OAAQC,EACrC,EADqCA,OAAQC,EAC7C,EAD6CA,OAAQC,EACrD,EADqDA,OAAQC,EAC7D,EAD6DA,QAE3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCNd7J,iBACE,eAAC,aAAD,UACE,eAAC,GAAD,MAEFsD,SAAS8G,eAAe,WAM1BR,O","file":"static/js/main.dd44b956.chunk.js","sourcesContent":["import Im from 'immutable';\r\n\r\nconst nasinTawaAli = ['↑', '↓', '←', '→'] as const;\r\n\r\n/**\r\n * nasin pi tawa e ijo.\r\n * (↑ sewi, ↓ anpa, ← soto, → teje.)\r\n */\r\nexport type NasinTawa = typeof nasinTawaAli[number];\r\n\r\nexport function liNasinTawa(sitelen: string): sitelen is NasinTawa\r\n{\r\n  return (nasinTawaAli as readonly string[]).includes(sitelen);\r\n}\r\n\r\ninterface ILon\r\n{\r\n  readonly x: number,\r\n  readonly y: number;\r\n}\r\n// ni li ike. taso, ni li nasin pali pi ilo Im.Record:\r\nconst lonAla: ILon = { x: NaN, y: NaN };\r\n\r\n/**\r\n * li jo e suli tan poka soto (x), e suli tan sewi (y).\r\n */\r\nexport class Lon extends Im.Record<ILon>(lonAla) implements ILon\r\n{\r\n  constructor(x: number, y: number)\r\n  {\r\n    super({ x: x, y: y });\r\n  }\r\n  \r\n  /**\r\n   * li tawa e Lon kepeken leko wan tawa nasin.\r\n   * @param nasin li nasin tawa.\r\n   * @returns e Lon sin.\r\n   */\r\n  tawa(nasin: NasinTawa)\r\n  {\r\n    switch(nasin)\r\n    {\r\n      case '↑': return new Lon(this.x, this.y - 1);\r\n      case '↓': return new Lon(this.x, this.y + 1);\r\n      case '←': return new Lon(this.x - 1, this.y);\r\n      case '→': return new Lon(this.x + 1, this.y);\r\n      default: throw new RangeError('nasin li ike!');\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Lon ni li insa ala insa ma?\r\n   */\r\n  liInsaMa(suliMa: Lon)\r\n  {\r\n    return (\r\n      this.x >= 0 && this.x < suliMa.x &&\r\n      this.y >= 0 && this.y < suliMa.y\r\n    );\r\n  }\r\n}\r\n","import Im from 'immutable';\r\nimport { Lon } from './lon';\r\nimport { Ijo } from './ijo';\r\nimport { LipuIjo } from './lipuIjo';\r\n\r\n/**\r\n * li jo e suli ma, e ijo ali insa kulupu Lon.\r\n */\r\nexport class MaIjo\r\n{\r\n  constructor(suliMa: Lon, lipuIjo: LipuIjo)\r\n  {\r\n    this.suliMa = suliMa;\r\n    this.lonIjo = lipuIjo.groupBy(ijo => ijo.lon).toMap();\r\n  }\r\n  \r\n  readonly suliMa: Lon;\r\n  readonly lonIjo: Im.Map<Lon, Im.Collection<number, Ijo>>;\r\n}\r\n","import Im from 'immutable';\r\nimport { Lon } from './lon';\r\nimport { Ijo } from './ijo';\r\nimport { NimiIjo } from './nimiAli';\r\nimport { LiSeme, NasinMusi } from './nasinMusi';\r\nimport { MaIjo } from './maIjo';\r\n\r\nexport type LonPali = Im.Map<Lon, Im.Collection<number, Im.Set<LiSeme>>>;\r\n\r\nexport function paliELonPali(maIjo: MaIjo, nasinMusi: readonly NasinMusi[]): LonPali\r\n{\r\n  // O PALI: nasin musi pi lukin ‘kon li ...’!\r\n  \r\n  return Im.Map(\r\n    maIjo.lonIjo.mapEntries(([lon, ijoMute]) =>\r\n      [lon, ijoMute.map((ijo, nanpa) => panaEPali(lon, ijo, nanpa, maIjo, nasinMusi))])\r\n  );\r\n}\r\n\r\nfunction panaEPali(lon: Lon, ijo: Ijo, nanpa: number, maIjo: MaIjo, nasinMusi: readonly NasinMusi[])\r\n{\r\n  const ijoAntePiLonSama = maIjo.lonIjo\r\n    .get(lon)!\r\n    .filterNot((_, nanpaNi) => nanpaNi === nanpa)\r\n    .toSet();\r\n  const nimiPiIjoSitelenAntePiLonSama = ijoAntePiLonSama\r\n    .toSeq()\r\n    .filter(ni => ni.liSitelen())\r\n    .map(ni => ni.nimi as NimiIjo)\r\n    .toSet();\r\n  \r\n  function nasinLiLon(nasin: NasinMusi)\r\n  {\r\n    const semeLiLon =\r\n      nasin.seme.contains('ali') ||\r\n      (ijo.liNimi() && nasin.seme.contains('nimi')) ||\r\n      (ijo.liSitelen() && nasin.seme.contains(ijo.nimi));\r\n    \r\n    const lonSemeLiLon =\r\n      nasin.lonSeme.contains('ali') ||\r\n      (nasin.lonSeme.contains('nimi') && ijoAntePiLonSama.some(ni => ni.liNimi())) ||\r\n      (nasin.lonSeme.contains('kon') && ijoAntePiLonSama.isEmpty()) ||\r\n      !nasin.lonSeme.intersect(nimiPiIjoSitelenAntePiLonSama).isEmpty();\r\n    \r\n    return semeLiLon && lonSemeLiLon;\r\n  }\r\n  \r\n  const paliMute = Im.Seq(nasinMusi)\r\n    .filter(nasinLiLon)\r\n    .flatMap(nasin => nasin.liSeme)\r\n    .toSet();\r\n  return paliMute;\r\n}\r\n","import Im from 'immutable';\r\n\r\n/**\r\n * li pali e lukin monsi tan lukin kulupu.\r\n * @param lukin li lukin tan ijo pi nanpa wan tawa kulupu pi ijo pi nanpa tu.\r\n * @returns e lukin tan ijo pi nanpa tu tawa ijo pi nanpa wan.\r\n */\r\nexport function monsiELukinKulupu<TWan extends string, TTu>(lukin: Record<TWan, readonly TTu[]>)\r\n{\r\n  return Im.Seq(lukin)\r\n    .flatMap((tawaMute, tan) => Im.Seq(tawaMute as readonly TTu[]).map(tawa => [tawa, tan as TWan]))\r\n    .toMap();\r\n}\r\n","import { monsiELukinKulupu } from './kepeken';\r\n\r\n/**\r\n * nimi ali li insa kulupu mute:\r\n *   nimi ijo li nimi e sitelen.\r\n *   nimi kulupu li nimi e kulupu ijo.\r\n *   nimi pali li nimi e ni: ijo li pali seme?\r\n *   nimi toki li insa nimi ante mute, li pali e nasin musi.\r\n */\r\nexport type KulupuNimi = 'ijo' | 'kulupu' | 'pali' | 'toki';\r\n\r\n/**\r\n * nimi ali insa kulupu ona.\r\n */\r\nexport const nimiInsaKulupu =\r\n{\r\n  toki:\r\n  [\r\n    'li',\r\n    'e',\r\n    'en',\r\n    'ala',\r\n    'lon',\r\n  ],\r\n  kulupu:\r\n  [\r\n    'nimi',    // nimi ali\r\n    'sitelen', // sitelen ali\r\n    'ali',     // nimi anu sitelen ali\r\n    'kon',     // leko pi ijo ala\r\n  ],\r\n  pali:\r\n  [\r\n    'mi',\r\n    'pini',\r\n    'moli',\r\n    'awen',\r\n    'weka',\r\n    'tawa',\r\n    'sewi',\r\n    'anpa',\r\n  ],\r\n  ijo:\r\n  [\r\n    'soweli',\r\n    'waso',\r\n    'kala',\r\n    'akesi',\r\n    'pipi',\r\n    'jan',\r\n    'mije',\r\n    'meli',\r\n    'tomo',\r\n    'ma',\r\n    'kiwen',\r\n    'telo',\r\n    'ko',\r\n    'kili',\r\n    'kasi',\r\n    'pan',\r\n    'sike',\r\n    'lipu',\r\n    'nena',\r\n    'lupa',\r\n    'poki',\r\n    'supa',\r\n    'palisa',\r\n    'ilo',\r\n    'len',\r\n    'mani',\r\n    'linja',\r\n    'jaki',\r\n    'suno',\r\n    'mun',\r\n    'pilin',\r\n    'olin',\r\n    'tenpo',\r\n    'sijelo',\r\n    'lawa',\r\n    'luka',\r\n    'noka',\r\n    'uta',\r\n    'kute',\r\n    'oko',\r\n    'pu',\r\n  ]\r\n} as const;\r\n\r\nconst kulupuPiNimiAli = monsiELukinKulupu(nimiInsaKulupu);\r\n\r\nexport const nimiAli = kulupuPiNimiAli.keySeq().toArray();\r\n\r\nexport type NimiToki   = typeof nimiInsaKulupu.toki  [number];\r\nexport type NimiKulupu = typeof nimiInsaKulupu.kulupu[number];\r\nexport type NimiIjo    = typeof nimiInsaKulupu.ijo   [number];\r\nexport type NimiPali   = typeof nimiInsaKulupu.pali  [number];\r\n\r\nexport type Nimi = NimiToki | NimiKulupu | NimiIjo | NimiPali;\r\n\r\n/**\r\n * nimi li insa ala insa kulupu ni?\r\n */\r\nexport function liInsaKulupu(nimi: Nimi, kulupu: 'toki'  ): nimi is NimiToki\r\nexport function liInsaKulupu(nimi: Nimi, kulupu: 'kulupu'): nimi is NimiKulupu\r\nexport function liInsaKulupu(nimi: Nimi, kulupu: 'ijo'   ): nimi is NimiIjo\r\nexport function liInsaKulupu(nimi: Nimi, kulupu: 'pali'  ): nimi is NimiPali\r\nexport function liInsaKulupu(nimi: Nimi, kulupu: KulupuNimi)\r\n{\r\n  return (nimiInsaKulupu[kulupu] as readonly Nimi[]).includes(nimi);\r\n}\r\n\r\nexport function panaEKulupuNimi(nimi: Nimi)\r\n{\r\n  return kulupuPiNimiAli.get(nimi) as KulupuNimi;\r\n}\r\n","import Im from 'immutable';\r\nimport { Token, TokenPosition } from 'typescript-parsec';\r\nimport { KulupuNimi, panaEKulupuNimi } from './nimiAli';\r\nimport { Lon } from './lon';\r\nimport { MaIjo } from './maIjo';\r\nimport { Ijo } from './ijo';\r\n\r\ntype KulupuToki = KulupuNimi | 'ala';\r\n\r\n/**\r\n * li poki pi jo e nimi, e nanpa ijo, e namako mute.\r\n * ilo PilinToki li moku e ona mute.\r\n * Toki wan li ken lukin tawa Toki poka sinpin tan linja toki sama.\r\n */\r\nexport interface Toki extends Token<KulupuToki>\r\n{\r\n  nanpaIjo?: number;\r\n}\r\n\r\n/**\r\n * li pana e linja toki ali tan poka tawa poka,\r\n * e linja toki ali tan sewi tawa anpa.\r\n */\r\nexport function* panaELinjaTokiAli(maIjo: MaIjo)\r\n{\r\n  yield* panaELinjaTokiMute(maIjo, (x: number, y: number) => new Lon(x, y));\r\n  yield* panaELinjaTokiMute(maIjo, (x: number, y: number) => new Lon(y, x));\r\n}\r\n\r\nfunction* panaELinjaTokiMute(maIjo: MaIjo, paliELon: (x: number, y: number) => Lon)\r\n{\r\n  const suli = paliELon(maIjo.suliMa.x, maIjo.suliMa.y);\r\n  for(let y = 0; y < suli.y; y++)\r\n  {\r\n    let linjaToki: Toki | undefined = undefined;\r\n    for(let x = suli.x - 1; x >= 0; x--)\r\n      linjaToki = paliEToki(x, maIjo.lonIjo.get(paliELon(x, y)), linjaToki);\r\n    yield linjaToki!;\r\n  }\r\n}\r\n\r\nfunction paliEToki(x: number, ijoENanpa: Im.Collection<number, Ijo> | undefined, tokiSinpin?: Toki): Toki\r\n{\r\n  const lonToki = panaELonToki(x);\r\n  \r\n  if(ijoENanpa !== undefined)\r\n  {\r\n    const nimiWan = ijoENanpa.filterNot(ijo => ijo.liSitelen()).entrySeq().first();\r\n    // O PALI: leko wan li ken jo e nimi mute. o pali pana e ken ali!\r\n    if(nimiWan !== undefined)\r\n    {\r\n      const [nanpa, { nimi }] = nimiWan;\r\n      const kulupu = panaEKulupuNimi(nimi);\r\n      return {\r\n        nanpaIjo: nanpa,\r\n        kind: kulupu,\r\n        text: nimi,\r\n        pos: lonToki,\r\n        next: tokiSinpin,\r\n      };\r\n    }\r\n  }\r\n  \r\n  return {\r\n    kind: 'ala',\r\n    text: '',\r\n    pos: lonToki,\r\n    next: tokiSinpin,\r\n  };\r\n}\r\n\r\nfunction panaELonToki(x: number): TokenPosition\r\n{\r\n  return {\r\n    index: x,\r\n    rowBegin: 1,\r\n    columnBegin: x + 1,\r\n    rowEnd: 1,\r\n    columnEnd: x + 2,\r\n  };\r\n}\r\n","import Im from 'immutable';\r\nimport { apply, expectEOF, str, tok, seq, rep, alt, kmid, Parser, ParserOutput } from 'typescript-parsec';\r\nimport { MaIjo } from './maIjo';\r\nimport { panaELinjaTokiAli, Toki } from './toki';\r\nimport { Seme, LiSeme, NasinMusi } from './nasinMusi';\r\n\r\n/**\r\n * li lukin e nimi ali lon ma ijo li pilin e nasin musi ali li pana e ona.\r\n * @param maIjo li ijo ali insa kulupu lon.\r\n * @returns nasin musi ali pi ma ni.\r\n */\r\n export function panaENasinMusiAli(maIjo: MaIjo): readonly NasinMusi[]\r\n {\r\n   const tokiAli = panaELinjaTokiAli(maIjo);\r\n   const nasinAli = Im.Seq(tokiAli)\r\n     .map(linja => expectEOF(pilin.parse(linja)))\r\n     .flatMap(panaENasinMusiLinja);\r\n   \r\n   return nasinAli.toArray();\r\n }\r\n \r\nconst pilinJaki = rep(alt(tok('ala'), tok('ijo'), tok('kulupu'), tok('toki'), tok('pali')));\r\n\r\nconst pilinIjo    = tok('ijo'    as const);\r\nconst pilinKulupu = tok('kulupu' as const);\r\nconst pilinPali   = tok('pali'   as const);\r\n\r\nconst pilinLi  = str<'toki'>('li');\r\nconst pilinEn  = str<'toki'>('en');\r\nconst pilinLon = str<'toki'>('lon');\r\n//const pilinAla = str<'toki'>('ala');\r\n\r\nconst pilinSeme = apply(\r\n  muteEnInsa(alt(pilinIjo, pilinKulupu), pilinEn),\r\n  ([mute, insa]) =>\r\n  ({\r\n    seme: Im.Seq(mute).map(ni => ni.text as Seme).toSet(),\r\n    nanpaIjo: Im.Seq(mute).map((ni: Toki) => ni.nanpaIjo!)\r\n      .concat(Im.Seq(insa).map((ni: Toki) => ni.nanpaIjo!))\r\n      .toSet()\r\n  } as const)\r\n);\r\n\r\nconst pilinLeko = alt(\r\n  apply(\r\n    pilinSeme,\r\n    ({ nanpaIjo, seme }) =>\r\n    ({\r\n      seme: seme,\r\n      lonSeme: Im.Set.of('ali' as Seme),\r\n      nanpaIjo: nanpaIjo\r\n    })\r\n  ),\r\n  apply(\r\n    seq(pilinSeme, pilinLon, pilinSeme),\r\n    ([seme, lon, lonSeme]) =>\r\n    ({\r\n      seme: seme.seme,\r\n      lonSeme: lonSeme.seme,\r\n      nanpaIjo: Im.Set.of((lon as Toki).nanpaIjo!).union(seme.nanpaIjo, lonSeme.nanpaIjo)\r\n    })\r\n  )\r\n);\r\n\r\nconst pilinPiNasinMusi = apply(\r\n  seq(pilinLeko, pilinLi, alt(pilinPali, pilinIjo)),\r\n  ([leko, li, liSeme]) =>\r\n  ({\r\n    seme: leko.seme,\r\n    lonSeme: leko.lonSeme,\r\n    liSeme: Im.Set.of(liSeme.text as LiSeme),\r\n    nanpaIjo: Im.Set.of((li as Toki).nanpaIjo!, (liSeme as Toki).nanpaIjo!).union(leko.nanpaIjo)\r\n  } as NasinMusi)\r\n);\r\n\r\nconst pilin = kmid(pilinJaki, pilinPiNasinMusi, pilinJaki);\r\n\r\nfunction panaENasinMusiLinja(linja: ParserOutput<string, NasinMusi>)\r\n{\r\n  const nasinLinja = linja.successful\r\n    ? linja.candidates.map(ken => ken.result)\r\n    : [];\r\n  return Im.Seq(nasinLinja)\r\n    .filterNot(nasinNi =>\r\n      nasinLinja.some(nasinAnte => liLiliPiNasinMusiAnte(nasinNi.nanpaIjo, nasinAnte.nanpaIjo)));\r\n}\r\n\r\nfunction liLiliPiNasinMusiAnte(nanpaIjoMuteNi: Im.Set<number>, nanpaIjoMuteAnte: Im.Set<number>)\r\n{\r\n  return nanpaIjoMuteNi.size < nanpaIjoMuteAnte.size &&\r\n    nanpaIjoMuteNi.isSubset(nanpaIjoMuteAnte);\r\n}\r\n\r\nfunction muteEnInsa<TKulupu, TMute, TInsa>(\r\n  pilinMute: Parser<TKulupu, TMute>,\r\n  pilinInsa: Parser<TKulupu, TInsa>\r\n): Parser<TKulupu, [TMute[], TInsa[]]>\r\n{\r\n  return apply(\r\n    seq(pilinMute, rep(seq(pilinInsa, pilinMute))),\r\n    ([lawa, sijelo]) =>\r\n    [\r\n      [lawa].concat(sijelo.map(([insa, mute]) => mute)),\r\n      sijelo.map(([insa, mute]) => insa)\r\n    ]\r\n  );\r\n}\r\n","import Im from 'immutable';\r\nimport { AntePiLipuIjo } from './lipuIjo';\r\nimport { Lon, NasinTawa } from './lon';\r\nimport { LonPali } from './lonPali';\r\nimport { LiSeme } from './nasinMusi';\r\nimport { liInsaKulupu, NimiIjo, NimiPali } from './nimiAli';\r\n\r\nexport type Pali = (suliMa: Lon, lonPali: LonPali, nasin: NasinTawa) => AntePiLipuIjo;\r\n\r\nexport const paliAnte: Pali = (suliMa, lonPali, nasin) =>\r\n{\r\n  const ante = Im.Seq.Keyed(\r\n    lonPali.entrySeq().flatMap(([_, mute]) =>\r\n      mute\r\n        .map(paliMute => paliMute.filter(pali => liInsaKulupu(pali, 'ijo')) as Im.Set<NimiIjo>)\r\n        .filterNot(paliMute => paliMute.isEmpty())\r\n        .toKeyedSeq()\r\n    )\r\n  // O PALI: ante e ijo wan tawa ijo mute!\r\n  ).map(anteMute => ({ kulupu: 'sitelen' as const, nimi: anteMute.first()! }));\r\n  \r\n  const weka = lonPali\r\n    .toIndexedSeq()\r\n    .map(panaENanpaWeka)\r\n    .flatMap(ni => ni);\r\n  \r\n  return { anteMute: ante, wekaMute: weka };\r\n}\r\n\r\nfunction panaENanpaWeka(paliLeko: Im.Collection<number, Im.Set<LiSeme>>)\r\n{\r\n  const lekoLiMoli = paliLeko.some(pali => pali.contains('moli'));\r\n  return paliLeko\r\n    .filter(pali => pali.contains('weka') || (lekoLiMoli && pali.contains('mi')))\r\n    .keySeq();\r\n}\r\n\r\nexport const paliTawaMi: Pali = (suliMa, lonPali, nasin) =>\r\n  ({\r\n    anteMute: panaEKulupuTawa('mi', suliMa, lonPali, nasin)\r\n      .toKeyedSeq()\r\n      .map(lon => ({ lon: lon.tawa(nasin) }))\r\n  });\r\n\r\nexport const paliTawaTawa: Pali = (suliMa, lonPali, nasin) =>\r\n{\r\n  const anpa = panaEKulupuTawa('anpa', suliMa, lonPali, '↓')\r\n    .toKeyedSeq()\r\n    .map(lon => ({ lon: lon.tawa('↓') }))\r\n  const sewi = panaEKulupuTawa('sewi', suliMa, lonPali, '↑')\r\n    .toKeyedSeq()\r\n    .map(lon => ({ lon: lon.tawa('↑') }))\r\n  return {\r\n    anteMute: anpa.concat(sewi)\r\n  };\r\n}\r\n\r\nfunction panaEKulupuTawa(mamaTawa: NimiPali, suliMa: Lon, lonPali: LonPali, nasin: NasinTawa)\r\n{\r\n  const miMute = Im.Seq.Keyed(\r\n    lonPali.entrySeq().flatMap(([lon, mute]) =>\r\n      mute\r\n        .filter(pali => pali.contains(mamaTawa))\r\n        .toKeyedSeq()\r\n        .mapEntries(([nanpa, _]) => [nanpa, lon]))\r\n  );\r\n\r\n  function lukinEKulupuTawa(nanpa: number, lon: Lon): Im.Seq.Keyed<number, Lon>\r\n  {\r\n    const lukinNi = lonPali.get(lon);\r\n    const lonSin = lon.tawa(nasin);\r\n    const lukinSin = lonPali.get(lonSin);\r\n    const ken =\r\n      lonSin.liInsaMa(suliMa) &&\r\n      panaENanpaTanPali(lukinNi, 'awen').isEmpty() &&\r\n      panaENanpaTanPali(lukinSin, 'awen').isEmpty();\r\n    \r\n    if(ken)\r\n    {\r\n      const tawa = panaENanpaTanPali(lukinSin, 'tawa')\r\n        .union(panaENanpaTanPali(lukinSin, 'mi'));\r\n      const lukinTawa = tawa.toSeq().map(ni => lukinEKulupuTawa(ni, lonSin));\r\n      if(lukinTawa.some(ni => ni.isEmpty()))\r\n        return Im.Seq.Keyed();\r\n      else\r\n        return Im.Seq.Keyed([[nanpa, lon]]).concat(...lukinTawa);\r\n    }\r\n    else\r\n      return Im.Seq.Keyed();\r\n  }\r\n  \r\n  const kulupuTawaAli = Im.Map(miMute\r\n    .map((lon, nanpa) => lukinEKulupuTawa(nanpa, lon))\r\n    .valueSeq().flatMap(ni => ni)\r\n  );\r\n\r\n  return kulupuTawaAli;\r\n}\r\n\r\n\r\nfunction panaENanpaTanPali(lukin: Im.Collection<number, Im.Set<LiSeme>> | undefined, pali: NimiPali)\r\n{\r\n  if(lukin !== undefined)\r\n    return lukin.filter(paliMute => paliMute.contains(pali)).keySeq().toSet();\r\n  else\r\n    return Im.Set.of<number>();\r\n}\r\n\r\nexport function panaEPilinMusi(suliMa: Lon, lonPali: LonPali)\r\n{\r\n  if(lonPali.some(liPini))\r\n    return 'pini';\r\n  else if(liTawa(suliMa, lonPali))\r\n    return 'tawa';\r\n  else\r\n    return 'palisa';\r\n}\r\n\r\nfunction liPini(paliLeko: Im.Collection<number, Im.Set<LiSeme>>)\r\n{\r\n  const lekoLiPini = paliLeko.some(pali => pali.contains('pini'));\r\n  const lekoLiMi = paliLeko.some(pali => pali.contains('mi'));\r\n  return lekoLiPini && lekoLiMi;\r\n}\r\n\r\nfunction liTawa(suliMa: Lon, lonPali: LonPali)\r\n{\r\n  const anpa = panaEKulupuTawa('anpa', suliMa, lonPali, '↓');\r\n  const sewi = panaEKulupuTawa('sewi', suliMa, lonPali, '↑');\r\n  return anpa.size > 0 || sewi.size > 0;\r\n}\r\n","import Im from 'immutable';\r\nimport { Ijo } from './ijo';\r\nimport { anteELipuIjo, LipuIjo } from './lipuIjo';\r\nimport { Lon, NasinTawa } from './lon';\r\nimport { MaIjo } from './maIjo';\r\nimport { LonPali, paliELonPali } from './lonPali';\r\nimport { panaENasinMusiAli } from './pilinToki';\r\nimport { Pali, panaEPilinMusi } from './pali';\r\n\r\nexport type PilinMusi =\r\n  | 'pini'   // musi li pini pona\r\n  | 'palisa' // jan musi li ken kepeken e ilo palisa\r\n  | 'tawa';  // musi li wile tawa sin\r\n\r\ninterface ITawa\r\n{\r\n  readonly nasin: NasinTawa | undefined;\r\n  readonly suliMa: Lon;\r\n  readonly lipuIjo: LipuIjo;\r\n  readonly lonPali: LonPali;\r\n  readonly lukinWawa: Im.Set<number>;\r\n  readonly pilin: PilinMusi;\r\n}\r\n// ni li ike. taso, ni li nasin pali pi ilo Im.Record:\r\nconst tawaAla: ITawa = { nasin: undefined, suliMa: new Lon(NaN, NaN), lipuIjo: Im.Map<number, Ijo>(), lonPali: Im.Map<Lon, any>(), lukinWawa: Im.Set(), pilin: 'pini' };\r\n\r\n/**\r\n * tawa wan lon tenpo musi.\r\n */\r\nexport class Tawa extends Im.Record<ITawa>(tawaAla) implements ITawa\r\n{\r\n  constructor(suliMa: Lon, lipuIjo: LipuIjo, nasin?: NasinTawa)\r\n  {\r\n    const maIjo = new MaIjo(suliMa, lipuIjo);\r\n    const nasinMusi = panaENasinMusiAli(maIjo);\r\n    const lonPali = paliELonPali(maIjo, nasinMusi);\r\n    \r\n    // O PALI: ken ante e ijo wan tawa ijo mute!\r\n    const lukinWawa = Im.Seq(nasinMusi).flatMap(nasin => nasin.nanpaIjo)\r\n      .concat(lonPali.valueSeq().flatMap(mute => mute.filter((pali, nanpa) => lipuIjo.get(nanpa)!.liSitelen() && !pali.isEmpty()).keySeq()))\r\n      .toSet();\r\n    \r\n    const pilin = panaEPilinMusi(suliMa, lonPali);\r\n    \r\n    super({\r\n      nasin: nasin,\r\n      suliMa: suliMa,\r\n      lipuIjo: lipuIjo,\r\n      lonPali: lonPali,\r\n      lukinWawa: lukinWawa,\r\n      pilin: pilin,\r\n    });\r\n  }\r\n  \r\n  /**\r\n   * pali e tawa sin tan tawa ni.\r\n   * @param pali tawa kepeken pali seme?\r\n   * @param nasin nasin tawa.\r\n   * @returns tawa sin.\r\n   */\r\n  sin(pali: Pali, nasin: NasinTawa): Tawa\r\n  {\r\n    const antePiLipuIjo = pali(this.suliMa, this.lonPali, nasin);\r\n    const lipuIjoSin = anteELipuIjo(this.lipuIjo, antePiLipuIjo);\r\n    return new Tawa(this.suliMa, lipuIjoSin, nasin);\r\n  }\r\n}\r\n","import Im from 'immutable';\r\nimport { Lon } from './lon';\r\nimport { buildLexer, apply, expectSingleResult, expectEOF, tok, rep, alt, Parser } from 'typescript-parsec';\r\nimport { Nimi, nimiAli, nimiInsaKulupu } from './nimiAli';\r\nimport { Ijo, KulupuIjo } from './ijo';\r\n\r\n/**\r\n * ma wan tan lipu Json.\r\n */\r\n export interface LipuMa\r\n {\r\n   readonly nimi: string;\r\n   readonly ma: string[];\r\n   readonly namako?: { [sitelen: string]: string | undefined };\r\n   // pona la, ni li { [sitelen: string]: string }. taso, ni li nasin pali pi ilo Import pi lipu Json.\r\n }\r\n\r\nenum KulupuToki { Nimi, Sitelen, Namako, Kon, Insa }\r\n \r\n/**\r\n * li pilin e lipu ma tan lipu Json.\r\n * @param lipuMa li ma wan tan lipu Json.\r\n * @returns e jo ali pi ma ni.\r\n */\r\nexport function pilinELipuMa(lipuMa: LipuMa)\r\n{\r\n  // O PALI: pilin ike la, pana e nimi ma, e nanpa pi linja ike!\r\n  \r\n  const namakoAli = lipuMa.namako !== undefined\r\n    ? Im.Map(lipuMa.namako).map(linja => pilin(pilinPiLinjaNamako, linja as string).flat())\r\n    : Im.Map<string, Wan[]>();\r\n  \r\n  const pilinPiIjoNamako = apply(\r\n    tok(KulupuToki.Namako),\r\n    (toki): readonly Wan[] =>\r\n    {\r\n      const namako = namakoAli.get(toki.text);\r\n      if(namako !== undefined)\r\n        return namako;\r\n      else\r\n        throw new Error(`namako ${toki.text} li lon ala!`);\r\n    }\r\n  );\r\n  const pilinPiLinjaMa = rep(alt(pilinPiIjoNimi, pilinPiIjoSitelen, pilinPiIjoNamako, pilinKon));\r\n  \r\n  const ma = Im.Seq(lipuMa.ma)\r\n    .map(linja => pilin(pilinPiLinjaMa, linja))\r\n    .cacheResult();\r\n  \r\n  const suliLinja = ma.map(linja => linja.length).toList();\r\n  if(suliLinja.size === 0)\r\n    throw new Error('ma li jo e linja ala!');\r\n  \r\n  const suliMa = new Lon(suliLinja.first()!, suliLinja.size);\r\n  if(suliMa.x === 0)\r\n    throw new Error('linja ma li jo e leko ala!');\r\n  if(suliLinja.skip(1).some(ni => ni !== suliMa.x))\r\n    throw new Error('suli pi linja ma li sama ala!');\r\n  const ijoAli = ma\r\n    .flatMap((linja, y) =>\r\n      Im.Seq(linja).flatMap((leko, x) =>\r\n        Im.Seq(leko).map(wan => ({  ...wan, lon: new Lon(x, y) }))))\r\n    .map((ijo, nanpa) => new Ijo({ ...ijo, nanpa: nanpa }))\r\n    .toArray();\r\n  \r\n  return {\r\n    nimiMa: lipuMa.nimi,\r\n    suliMa: suliMa,\r\n    ijoAli: ijoAli,\r\n  };\r\n}\r\n\r\nconst mamaToki = buildLexer<KulupuToki>([\r\n  [true,  /^[A-Z][A-Za-z]*/g,      KulupuToki.Nimi   ],\r\n  [true,  /^[a-z]+/g,              KulupuToki.Sitelen],\r\n  [true,  /^[^A-Za-z.\\s][^.\\s]*/g, KulupuToki.Namako ],\r\n  [true,  /^\\./g,                  KulupuToki.Kon    ],\r\n  [false, /^\\s+/g,                 KulupuToki.Insa   ],\r\n]);\r\n\r\nconst nimiNimi = Im.Set<string>(nimiAli);\r\nconst nimiSitelen = Im.Set<string>(nimiInsaKulupu['ijo']);\r\n\r\nfunction panaENimi(nimi: string, liSitelen: boolean)\r\n{\r\n  const nimiLili = nimi.toLowerCase();\r\n  const tan = liSitelen ? nimiSitelen : nimiNimi;\r\n  if(tan.contains(nimiLili))\r\n    return nimiLili as Nimi;\r\n  else\r\n  {\r\n    const nimiOpen = tan.filter(ni => ni.startsWith(nimiLili));\r\n    if(nimiOpen.size === 1)\r\n      return nimiOpen.first()! as Nimi;\r\n    else if(nimiOpen.isEmpty())\r\n      throw new Error(`nimi '${nimi}' li ken open e ala!`);\r\n    else\r\n      throw new Error(`nimi '${nimi}' li ken open e '${nimiOpen.join(\"' anu '\")}''!`);\r\n  }\r\n}\r\n\r\ntype Wan = { readonly kulupu: KulupuIjo, readonly nimi: Nimi };\r\n\r\nconst pilinPiIjoNimi = apply(\r\n  tok(KulupuToki.Nimi),\r\n  (toki): readonly Wan[] =>\r\n  [{\r\n    kulupu: 'nimi',\r\n    nimi: panaENimi(toki.text, false),\r\n  }]\r\n);\r\n\r\nconst pilinPiIjoSitelen = apply(\r\n  tok(KulupuToki.Sitelen),\r\n  (toki): readonly Wan[] =>\r\n  [{\r\n    kulupu: 'sitelen',\r\n    nimi: panaENimi(toki.text, true),\r\n  }]\r\n);\r\n\r\nconst pilinKon = apply(\r\n  tok(KulupuToki.Kon),\r\n  (toki): readonly Wan[] => []\r\n);\r\n  \r\nconst pilinPiLinjaNamako = rep(alt(pilinPiIjoNimi, pilinPiIjoSitelen));\r\n\r\nfunction pilin<T>(pilinLinja: Parser<KulupuToki, T>, linja: string)\r\n{\r\n  return expectSingleResult(expectEOF(pilinLinja.parse(mamaToki.parse(linja))))\r\n}\r\n","import Im from 'immutable';\r\nimport { Ijo, IIjo } from './ijo';\r\n\r\n/**\r\n * ijo mute en nanpa ona.\r\n */\r\nexport type LipuIjo = Im.Map<number, Ijo>;\r\n\r\nexport type IjoSin = Omit<IIjo, 'nanpa'>;\r\nexport type AnteIjo = Partial<IjoSin>;\r\n\r\nexport interface AntePiLipuIjo\r\n{\r\n  readonly anteMute?: Im.Seq.Keyed<number, AnteIjo>;\r\n  readonly sinMute?: Im.Seq.Indexed<IjoSin>;\r\n  readonly wekaMute?: Im.Seq.Indexed<number>;\r\n}\r\n\r\nexport function anteELipuIjo(lipuIjoMajuna: LipuIjo, ante: AntePiLipuIjo): LipuIjo\r\n{\r\n  let lipu = lipuIjoMajuna;\r\n  if(ante.anteMute)\r\n    lipu = lipu.merge(ante.anteMute.map((ante, nanpa) => lipu.get(nanpa)!.merge(ante)));\r\n  // O PALI: sinMute\r\n  if(ante.wekaMute)\r\n    lipu = lipu.removeAll(ante.wekaMute);\r\n  return lipu;\r\n}\r\n","import assert from 'assert';\r\nimport Im from 'immutable';\r\nimport { Lon, NasinTawa } from './lon';\r\nimport { liInsaKulupu, Nimi, NimiIjo } from './nimiAli'\r\n\r\n/**\r\n * ijo ali li tan kulupu tu:\r\n *   ijo nimi li lukin sama nimi, li ken pali e nasin musi.\r\n *   ijo sitelen li lukin sama sitelen pi Sitelen Pona.\r\n */\r\nexport type KulupuIjo = 'nimi' | 'sitelen';\r\n\r\nexport interface IIjo\r\n{\r\n  readonly nanpa: number;\r\n  readonly lon: Lon;\r\n  readonly kulupu: KulupuIjo;\r\n  readonly nimi: Nimi;\r\n}\r\n// ni li ike. taso, ni li nasin pali pi ilo Im.Record:\r\nconst ijoAla: IIjo = { nanpa: NaN, lon: new Lon(NaN, NaN), kulupu: 'nimi', nimi: 'ala' };\r\n\r\n/**\r\n * ijo wan lon ma musi, li nimi anu sitelen.\r\n */\r\nexport class Ijo extends Im.Record<IIjo>(ijoAla) implements IIjo\r\n{\r\n  constructor(ijo: IIjo)\r\n  {\r\n    super(ijo);\r\n    assert(\r\n      ijo.kulupu !== 'sitelen' || liInsaKulupu(ijo.nimi, 'ijo'),\r\n      `ijo sitelen li ken ala jo e nimi '${ijo.nimi}'!`\r\n    );\r\n  }\r\n  \r\n  /**\r\n   * ijo ni li ijo sitelen anu seme?\r\n   * (ijo sitelen li ken jo e nimi ijo taso.)\r\n   */\r\n  liSitelen(): this is { readonly kulupu: 'sitelen', readonly nimi: NimiIjo }\r\n  {\r\n    return this.kulupu === 'sitelen';\r\n  }\r\n  \r\n  /**\r\n   * ijo ni li ijo nimi anu seme?\r\n   */\r\n  liNimi(): this is { readonly kulupu: 'nimi' }\r\n  {\r\n    return this.kulupu === 'nimi';\r\n  }\r\n  \r\n  /**\r\n   * li tawa e Ijo kepeken leko wan tawa nasin.\r\n   * @param nasin li nasin tawa.\r\n   * @returns e Ijo sin.\r\n   */\r\n  tawa(nasin: NasinTawa)\r\n  {\r\n    return this.set('lon', this.lon.tawa(nasin));\r\n  }\r\n}\r\n","import assert from 'assert';\r\nimport Im from 'immutable';\r\nimport { liNasinTawa, Lon, NasinTawa } from './lon';\r\nimport { Tawa } from './tawa';\r\nimport { LipuMa, pilinELipuMa } from './lipuMa';\r\nimport { Pali, paliAnte, paliTawaMi, paliTawaTawa } from './pali';\r\n\r\ninterface IMusi\r\n{\r\n  readonly nimiMa: string;\r\n  readonly suliMa: Lon;\r\n  readonly tenpo: Im.List<Tawa>;\r\n  readonly tenpoNi: number;\r\n}\r\n// ni li ike. taso, ni li nasin pali pi ilo Im.Record:\r\nconst musiAla: IMusi = { nimiMa: '', suliMa: new Lon(NaN, NaN), tenpo: Im.List(), tenpoNi: NaN };\r\n\r\nexport class Musi extends Im.Record<IMusi>(musiAla) implements IMusi\r\n{\r\n  constructor(lipuMa: LipuMa)\r\n  {\r\n    const { nimiMa, suliMa, ijoAli } = pilinELipuMa(lipuMa);\r\n    const lipuIjo = Im.Map(Im.Seq(ijoAli).toKeyedSeq());\r\n    const tenpoOpen = Im.List.of(new Tawa(suliMa, lipuIjo));\r\n    \r\n    super({\r\n      nimiMa: nimiMa,\r\n      suliMa: suliMa,\r\n      tenpo: tenpoOpen,\r\n      tenpoNi: 0,\r\n    });\r\n  }\r\n  \r\n  /**\r\n   * jan musi li lukin e tawa ni.\r\n   */\r\n  get tawaNi()\r\n  {\r\n    const ni = this.tenpo.get(this.tenpoNi);\r\n    assert(ni, 'tenpo ni li ike!');\r\n    return ni;\r\n  }\r\n  \r\n  panaENasin(kamaKin: boolean = false): readonly (NasinTawa | undefined)[]\r\n  {\r\n    const tenpo = kamaKin\r\n      ? this.tenpo\r\n      : this.tenpo.take(this.tenpoNi + 1)\r\n    return tenpo\r\n      .map(tawa => tawa.nasin)\r\n      .toArray();\r\n  }\r\n  \r\n  tenpoMonsi(ali: boolean = false): Musi\r\n  {\r\n    if(this.tenpoNi > 0)\r\n      return this.set('tenpoNi', ali ? 0 : this.tenpoNi - 1);\r\n    else\r\n      return this;\r\n  }\r\n  \r\n  tenpoSinpin(ali: boolean = false): Musi\r\n  {\r\n    if(this.tenpoNi < this.tenpo.size - 1)\r\n      return this.set('tenpoNi', ali ? this.tenpo.size - 1 : this.tenpoNi + 1);\r\n    else\r\n      return this;\r\n  }\r\n  \r\n  tenpoNanpa(nanpa: number): Musi\r\n  {\r\n    if(nanpa >= 0 && nanpa < this.tenpo.size)\r\n      return this.set('tenpoNi', nanpa);\r\n    else\r\n      return this;\r\n  }\r\n  \r\n  tawaPalisa(nasin: NasinTawa): Musi\r\n  {\r\n    const tawaNi = this.tawaNi;\r\n    assert(tawaNi.pilin === 'palisa', 'ken ala tawaPalisa!');\r\n    return this.tawa(nasin, paliTawaMi, this.tenpoNi + 1);\r\n  }\r\n  \r\n  tawaTawa(): Musi\r\n  {\r\n    const tawaNi = this.tawaNi;\r\n    assert(this.tawaNi.pilin === 'tawa', 'ken ala tawaTawa!');\r\n    assert(tawaNi.nasin, 'O PALI: tawaTawa tan open musi.');  // O PALI!\r\n    return this.tawa(tawaNi.nasin, paliTawaTawa, this.tenpoNi);\r\n  }\r\n  \r\n  private tawa(nasin: NasinTawa, paliTawa: Pali, tenpoNiSin: number): Musi\r\n  {\r\n    const t0 = Date.now();\r\n    \r\n    const tawaNi = this.tawaNi;\r\n    const tawaInsa = tawaNi.sin(paliTawa, nasin);\r\n    const tawaSin = tawaInsa.sin(paliAnte, nasin);\r\n    \r\n    if(tawaSin.lipuIjo.equals(tawaNi.lipuIjo))\r\n      return this;  // ala li ante\r\n    \r\n    const tenpoSin = this.tenpo.take(tenpoNiSin).push(tawaSin);\r\n    \r\n    const t1 = Date.now();\r\n    console.log(`tawa: ${t1 - t0}`);\r\n    \r\n    return this.merge({ tenpo: tenpoSin, tenpoNi: tenpoNiSin });\r\n  }\r\n  \r\n  sinETenpoAli(tokiNasin: string): Musi\r\n  {\r\n    const nasin = Im.Seq(tokiNasin.split('')).filter(liNasinTawa).cacheResult();\r\n    if(nasin.size === 0)\r\n      return this;  // tokiNasin li ala anu ike\r\n    \r\n    function tawa(musi: Musi)\r\n    {\r\n      let musiSin = musi;\r\n      while(musiSin.tawaNi.pilin === 'tawa')\r\n        musiSin = musiSin.tawaTawa();\r\n      return musiSin;\r\n    }\r\n    \r\n    const musiOpen = this.tenpoMonsi(true);\r\n    const musiSin = nasin.reduce((musi, nasinTawa) => tawa(musi.tawaPalisa(nasinTawa)), musiOpen);\r\n    return musiSin.tenpoMonsi(true);\r\n  }\r\n}\r\n\r\n","import { Component } from 'react';\r\nimport { monsiELukinKulupu } from '../insa/kepeken';\r\nimport { liNasinTawa, NasinTawa } from '../insa/lon';\r\n\r\ntype TawaTenpo = 'monsi' | 'sinpin' | 'open' | 'pini';\r\nexport type Palisa = NasinTawa | TawaTenpo;\r\n\r\nconst palisaAli: Record<Palisa, readonly string[]> =\r\n{\r\n  '↑':      ['KeyW', 'ArrowUp'],\r\n  '↓':      ['KeyS', 'ArrowDown'],\r\n  '←':      ['KeyA', 'ArrowLeft'],\r\n  '→':      ['KeyD', 'ArrowRight'],\r\n  \r\n  'monsi':  ['KeyZ', 'Backspace'],\r\n  'sinpin': ['KeyX', 'Insert'],\r\n  'open':   ['KeyR', 'Home'],\r\n  'pini':   ['KeyT', 'End'],\r\n} as const;\r\n\r\nconst palisaPiNimiPalisa = monsiELukinKulupu(palisaAli);\r\n\r\nexport interface JoPiIloPalisa\r\n{\r\n  palisaLa(palisa: Palisa): void;\r\n}\r\n\r\nexport class IloPalisa extends Component<JoPiIloPalisa>\r\n{\r\n  render = () => null;\r\n  \r\n  componentDidMount()\r\n  {\r\n    window.addEventListener('keydown', this.lukaPalisa);\r\n  }\r\n  \r\n  componentWillUnmount()\r\n  {\r\n    window.removeEventListener('keydown', this.lukaPalisa);\r\n  }\r\n  \r\n  private lukaPalisa = (pali: KeyboardEvent) =>\r\n  {\r\n    const palisa = palisaPiNimiPalisa.get(pali.code);\r\n    if(palisa && !(pali.repeat && liNasinTawa(palisa)))\r\n    {\r\n      this.props.palisaLa(palisa);\r\n      pali.preventDefault();\r\n    }\r\n  }\r\n}\r\n\r\nexport function panaENimiPalisa(palisa: Palisa): readonly string[]\r\n{\r\n  return palisaAli[palisa]\r\n    .map(nimi => `[${nimi.replace(/^Key/, '')}]`);\r\n}\r\n","import Im from 'immutable' ;\r\nimport { Nimi, nimiAli } from '../insa/nimiAli';\r\n\r\ninterface LinjaNimi\r\n{\r\n  readonly nimiLili: string;\r\n  readonly suliPoka: number;\r\n}\r\n\r\nexport function kipisiENimi(nimi: Nimi): readonly LinjaNimi[]\r\n{\r\n  if(!kipisiPiNimiAli)\r\n    kipisiPiNimiAli = paliEKipisiPiNimiAli();\r\n  \r\n  return kipisiPiNimiAli[nimi];\r\n}\r\n\r\ntype KipisiPiNimiAli = Record<Nimi, readonly LinjaNimi[]>;\r\nlet kipisiPiNimiAli: KipisiPiNimiAli | undefined;\r\n\r\nfunction paliEKipisiPiNimiAli(): KipisiPiNimiAli\r\n{\r\n  const lipuSitelen = document.createElement('canvas');\r\n  const lonSitelen = lipuSitelen.getContext('2d')!;\r\n  lonSitelen.font = 'normal 100px truculenta';\r\n  \r\n  function paliELinja(nimiLili: string, suliPokaAli: number): LinjaNimi\r\n  {\r\n    const suliPoka = Math.round(suliPokaAli / lonSitelen.measureText(nimiLili).width);\r\n    return { nimiLili: nimiLili, suliPoka: suliPoka };\r\n  }\r\n  \r\n  function kipisiENimi(nimi: string): readonly LinjaNimi[]\r\n  {\r\n    if(nimi.length < 4)\r\n      return [paliELinja(nimi, nanpaSuliPiLinjaWan)];\r\n    else\r\n    {\r\n      const kenKipisi = Im.Range(2, nimi.length - 1)\r\n        .map(meso => [\r\n          paliELinja(nimi.substring(0, meso), nanpaSuliPiLinjaTu),\r\n          paliELinja(nimi.substring(meso), nanpaSuliPiLinjaTu),\r\n        ]);\r\n      return kenKipisi\r\n        .minBy(([wan, tu]) => Math.abs(wan.suliPoka - tu.suliPoka)) ?? [];\r\n    }\r\n  }\r\n  \r\n  const kipisi: { [nimi: string]: readonly LinjaNimi[] } = { };\r\n  for(const nimi of nimiAli)\r\n    kipisi[nimi] = kipisiENimi(nimi);\r\n  \r\n  return kipisi as KipisiPiNimiAli;\r\n}\r\n\r\nconst nanpaSuliPiLinjaWan = 8000;\r\nconst nanpaSuliPiLinjaTu = 10240;\r\n","import { KulupuNimi, NimiIjo } from '../insa/nimiAli';\r\nimport { Kule } from './kule';\r\n\r\nexport type AnteTawa = 'poka' | 'sikePoka' | 'sikeSewi';\r\n\r\nexport interface LukinIjo\r\n{\r\n  readonly kule: Kule;\r\n  readonly anteTawa?: AnteTawa;\r\n}\r\n\r\nexport const lukinPiKulupuNimi: Record<KulupuNimi, LukinIjo> =\r\n{\r\n  ijo:    { kule: '#26a' },\r\n  toki:   { kule: '#555' },\r\n  kulupu: { kule: '#682' },\r\n  pali:   { kule: '#b52' },\r\n} as const;\r\n\r\nexport const lukinPiIjoAli: Record<NimiIjo, LukinIjo> =\r\n{\r\n  soweli: { kule: '#444', anteTawa: 'poka' },\r\n  waso:   { kule: '#678', anteTawa: 'poka' },\r\n  kala:   { kule: '#d80', anteTawa: 'sikePoka' },\r\n  akesi:  { kule: '#294', anteTawa: 'sikeSewi' },\r\n  pipi:   { kule: '#850', anteTawa: 'sikeSewi' },\r\n  jan:    { kule: '#c86' },\r\n  mije:   { kule: '#04c' },\r\n  meli:   { kule: '#c08' },\r\n  tomo:   { kule: '#c60' },\r\n  ma:     { kule: '#666' },\r\n  kiwen:  { kule: '#478' },\r\n  telo:   { kule: '#09b' },\r\n  ko:     { kule: '#884', anteTawa: 'sikeSewi' },\r\n  kili:   { kule: '#b10' },\r\n  kasi:   { kule: '#2a4' },\r\n  pan:    { kule: '#890' },\r\n  sike:   { kule: '#60a' },\r\n  lipu:   { kule: '#0aa' },\r\n  nena:   { kule: '#750' },\r\n  lupa:   { kule: '#750' },\r\n  poki:   { kule: '#a90' },\r\n  supa:   { kule: '#b80' },\r\n  palisa: { kule: '#490', anteTawa: 'sikeSewi' },\r\n  ilo:    { kule: '#488' },\r\n  len:    { kule: '#a94' },\r\n  mani:   { kule: '#c90' },\r\n  linja:  { kule: '#d00', anteTawa: 'poka' },\r\n  jaki:   { kule: '#543', anteTawa: 'sikePoka' },\r\n  suno:   { kule: '#c80', anteTawa: 'sikeSewi' },\r\n  mun:    { kule: '#07d', anteTawa: 'sikePoka' },\r\n  pilin:  { kule: '#e02' },\r\n  olin:   { kule: '#e05' },\r\n  tenpo:  { kule: '#555', anteTawa: 'sikeSewi' },\r\n  sijelo: { kule: '#a85' },\r\n  lawa:   { kule: '#d60', anteTawa: 'poka' },\r\n  luka:   { kule: '#a85', anteTawa: 'sikeSewi' },\r\n  noka:   { kule: '#830', anteTawa: 'poka' },\r\n  uta:    { kule: '#d42' },\r\n  kute:   { kule: '#a85', anteTawa: 'poka' },\r\n  oko:    { kule: '#24d', anteTawa: 'sikePoka' },\r\n  pu:     { kule: '#109' },\r\n} as const;\r\n","import { Lon } from '../insa/lon';\r\nimport { AnteTawa } from './lukinIjo'\r\n\r\nexport type Jasima = 'none' | `scaleX(${-1 | 1})` | `rotate(${number}turn)`;\r\n\r\nexport function panaEJasima(jasimaMajuna: Jasima, lonMajuna: Lon | undefined, lonSin: Lon, anteTawa?: AnteTawa): Jasima\r\n{\r\n  if(lonMajuna && (anteTawa === 'sikePoka' || anteTawa === 'sikeSewi'))\r\n  {\r\n    const nanpaNasin =\r\n      lonSin.x > lonMajuna.x ? 0 :\r\n      lonSin.y > lonMajuna.y ? 0.25 :\r\n      lonSin.x < lonMajuna.x ? 0.5 :\r\n      lonSin.y < lonMajuna.y ? 0.75 :\r\n      undefined;\r\n    \r\n    if(nanpaNasin !== undefined)\r\n    {\r\n      const namakoLawa =  anteTawa === 'sikeSewi' ? 0.25 : 0;\r\n      const nanpaMajuna = panaENanpaPiJasimaSike(jasimaMajuna, namakoLawa) ?? 0;\r\n      const sike = Math.floor(nanpaMajuna);\r\n      const ante = nanpaNasin - (nanpaMajuna - sike);\r\n      const namakoSike = sike + (ante <= -0.5 ? 1 : 0) + (ante >= 0.5 ? -1 : 0);\r\n      \r\n      const nanpaSike = nanpaNasin + namakoSike + namakoLawa;\r\n      return `rotate(${nanpaSike}turn)`;\r\n    }\r\n    else\r\n      return jasimaMajuna;\r\n  }\r\n  else if(lonMajuna && anteTawa === 'poka')\r\n  {\r\n    if(lonSin.x > lonMajuna.x)\r\n      return `scaleX(1)`;\r\n    else if(lonSin.x < lonMajuna.x)\r\n      return `scaleX(-1)`;\r\n    else\r\n      return jasimaMajuna;\r\n  }\r\n  else\r\n    return 'none';\r\n}\r\n\r\nfunction panaENanpaPiJasimaSike(jasima: Jasima, namakoLawa: number)\r\n{\r\n  const kili = alasaNanpaPiJasimaSike.exec(jasima);\r\n  if(kili)\r\n    return parseFloat(kili[1]) - namakoLawa;\r\n  else\r\n    return undefined;\r\n}\r\n\r\nconst alasaNanpaPiJasimaSike = /^rotate\\((.*)turn\\)$/;\r\n","import './leko.css';\r\nimport classNames from 'classnames';\r\nimport { useState, useRef, useEffect, memo } from 'react';\r\nimport { Ijo } from '../insa/ijo';\r\nimport { lukinPiKulupuNimi, lukinPiIjoAli } from './lukinIjo'\r\nimport { kipisiENimi } from './kipisiENimi';\r\nimport { Jasima, panaEJasima } from './jasima';\r\nimport { panaEKulupuNimi } from '../insa/nimiAli';\r\n\r\nexport const Leko = memo(function({ ijo, lukinWawa }: { ijo: Ijo, lukinWawa: boolean })\r\n{\r\n  const lukinNimi = ijo.liSitelen()\r\n    ? lukinPiIjoAli[ijo.nimi]\r\n    : lukinPiKulupuNimi[panaEKulupuNimi(ijo.nimi)];\r\n  const anteTawa = ijo.liSitelen() ? lukinNimi.anteTawa : undefined;\r\n  \r\n  const kulupuLukin = classNames(\r\n    'leko',\r\n    { 'sitelen': ijo.liSitelen() },\r\n    { 'wawa': lukinWawa }\r\n  );\r\n  \r\n  const ijoMajuna = useMajuna(ijo);\r\n  const [jasimaMajuna, sinEJasima] = useState<Jasima>('none');\r\n  const jasima = ijoMajuna?.nimi === ijo.nimi\r\n    ? panaEJasima(jasimaMajuna, ijoMajuna.lon, ijo.lon, anteTawa)\r\n    : 'none';\r\n  if(jasima !== jasimaMajuna)\r\n    sinEJasima(jasima);\r\n  \r\n  const lukin =\r\n  {\r\n    left: `${ijo.lon.x}em`,\r\n    top: `${ijo.lon.y}em`,\r\n    transform: jasima,\r\n    color: lukinNimi.kule,\r\n  };\r\n  \r\n  return (\r\n    <div className={kulupuLukin} style={lukin}>\r\n      {insa(ijo)}\r\n    </div>\r\n  );\r\n});\r\n\r\nfunction insa(ijo: Ijo)\r\n{\r\n  if(ijo.liSitelen())\r\n    return <span>{ijo.nimi}</span>;\r\n  else\r\n  {\r\n    const linja = kipisiENimi(ijo.nimi);\r\n    const nanpaLinja = linja.length === 1 ? 'linjaWan' : 'linjaTu';\r\n    const kulupuLukin = classNames('nimi', nanpaLinja);\r\n    \r\n    return linja.map(({ nimiLili, suliPoka }, nanpa) =>\r\n      <span key={nanpa} className={kulupuLukin}\r\n        style={{ fontVariationSettings: `'wdth' ${suliPoka}, 'opsz' 12` }}\r\n      >\r\n        {nimiLili}\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nfunction useMajuna<T>(sin: T)\r\n{\r\n  const ona = useRef<T>();\r\n  useEffect(() => { ona.current = sin; });\r\n  return ona.current;\r\n}\r\n","import './ma.css';\r\nimport Im from 'immutable';\r\nimport { Lon } from '../insa/lon';\r\nimport { LipuIjo } from '../insa/lipuIjo';\r\nimport { Leko } from './leko';\r\n\r\ninterface JoMa\r\n{\r\n  readonly suli: Lon;\r\n  readonly lipuIjo: LipuIjo;\r\n  readonly lukinWawa: Im.Set<number>;\r\n  readonly liPini: boolean;\r\n}\r\n\r\nexport function Ma(jo: JoMa)\r\n{\r\n  const lekoAli = jo.lipuIjo\r\n    .map((ijo, nanpaTaso) =>\r\n      <Leko key={nanpaTaso} ijo={ijo} lukinWawa={jo.lukinWawa.contains(nanpaTaso)} />\r\n    )\r\n    .toIndexedSeq();\r\n  \r\n    const suli = {\r\n      width: `${jo.suli.x}em`,\r\n      height: `${jo.suli.y}em`,\r\n    };\r\n  \r\n  return (\r\n    <div className='ma' style={suli}>\r\n      <div>\r\n        {lekoAli}\r\n      </div>\r\n      {\r\n        jo.liPini &&\r\n          <div className='pini' style={suli}>\r\n            <p className='pona sitelen'>pona</p>\r\n            <p className='pona toki'>pona!</p>\r\n          </div>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n","import classNames from 'classnames';\r\nimport { NasinTawa } from '../insa/lon';\r\nimport { panaENimiPalisa } from './iloPalisa';\r\nimport './tenpo.css';\r\n\r\ninterface JoTenpo\r\n{\r\n  readonly nasin: readonly (NasinTawa | undefined)[];\r\n  readonly tenpoNi: number;\r\n  readonly tenpoNanpaLa: (nanpa: number) => void;\r\n  readonly panaTanPokiLa: (nasin: string) => void;\r\n}\r\n\r\nexport const Tenpo = ({ nasin, tenpoNi, tenpoNanpaLa, panaTanPokiLa }: JoTenpo) =>\r\n  <>\r\n    <div className='pokiTenpo'>\r\n      <div className='tenpo' style={{ left: `${lon(tenpoNi, nasin.length)}em` }}>\r\n        {nasin.map((nasinTawa, nanpa) =>\r\n          <Tawa\r\n            key={nanpa}\r\n            nasinTawa={nasinTawa}\r\n            nanpaTanNi={nanpa - tenpoNi}\r\n            paliLa={() => tenpoNanpaLa(nanpa)}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n    \r\n    <div className='panaTenpo'>\r\n      <button\r\n        className={classNames({ 'kama': tenpoNi === 0 })}\r\n        title='pana e nasin tawa poki'\r\n        onClick={tenpoNi > 0 ? () => panaTawaPoki(nasin, tenpoNi) : () => {}}\r\n      >\r\n        content_copy\r\n      </button>\r\n      <button\r\n        title={'pana e nasin tan poki.\\npali ala lon ilo lukin Firefox :('}\r\n        onClick={() => panaTanPoki(panaTanPokiLa)}\r\n      >\r\n        content_paste\r\n      </button>\r\n    </div>\r\n  </>;\r\n\r\ninterface JoTawa\r\n{\r\n  readonly nasinTawa: NasinTawa | undefined;\r\n  readonly nanpaTanNi: number;\r\n  readonly paliLa: () => void;\r\n}\r\n\r\nfunction Tawa({ nasinTawa, nanpaTanNi, paliLa }: JoTawa)\r\n{\r\n  const kulupuLukin = classNames({ 'kama': nanpaTanNi > 0 });\r\n  const sitelen = nasinTawa ? nimiNasin[nasinTawa] : '';\r\n  \r\n  const nanpaTawa = Math.abs(nanpaTanNi);\r\n  const nimiNanpa = nanpaTawa <= 2 ? nanpaTawa === 1 ? 'wan' : 'tu' : 'mute';\r\n  const sinpinAnuMonsi = nanpaTanNi > 0 ? 'sinpin': 'monsi';\r\n  const insaLinja = '\\n';\r\n  const palisa = nanpaTawa === 1 ? `${insaLinja}palisa ${panaENimiPalisa(sinpinAnuMonsi).join(' anu ')}` : '';\r\n  const toki = nasinTawa\r\n    ? nanpaTanNi === 0\r\n      ? 'tenpo ni'\r\n      : `tawa ${nimiNanpa} ${sinpinAnuMonsi}${palisa}`\r\n    : `open musi${insaLinja}palisa ${panaENimiPalisa('open').join(' anu ')}`;\r\n  \r\n  return (\r\n    <div className='tawa'>\r\n      <button\r\n        className={kulupuLukin}\r\n        title={toki}\r\n        onClick={nanpaTanNi !== 0 ? paliLa : () => { }}\r\n      >\r\n        {sitelen}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction lon(ni: number, nanpa: number)\r\n{\r\n  const poka = nanpa <= suli\r\n    ? (suli - nanpa) / 2\r\n    : ni >= suli\r\n      ? suli - ni - 1\r\n      : 0;\r\n  return namako + poka;\r\n}\r\n\r\n// O PALI pona e ni!\r\nconst suli = 23;\r\nconst namako = 1.5;\r\n\r\nfunction panaTawaPoki(nasin: readonly (NasinTawa | undefined)[], tenpoNi: number)\r\n{\r\n  const tokiNasin = nasin.slice(1, tenpoNi + 1).join('');\r\n  navigator.clipboard.writeText(tokiNasin);\r\n}\r\n\r\nfunction panaTanPoki(panaTanPokiLa: (nasin: string) => void)\r\n{\r\n  if(navigator.clipboard.readText)\r\n    navigator.clipboard.readText().then(nasin => panaTanPokiLa(nasin));\r\n}\r\n\r\nconst nimiNasin: Record<NasinTawa, string> =\r\n{\r\n  '↑': 'north',\r\n  '↓': 'south',\r\n  '←': 'west',\r\n  '→': 'east',\r\n//   '↑': 'arrow_upward',\r\n//   '↓': 'arrow_downward',\r\n//   '←': 'arrow_back',\r\n//   '→': 'arrow_forward',\r\n};\r\n","import { Component } from 'react';\r\n\r\nexport interface JoPiIloTenpo\r\n{\r\n  tenpoLa(): void;\r\n}\r\n\r\nexport class IloTenpo extends Component<JoPiIloTenpo>\r\n{\r\n  render = () => null;\r\n  \r\n  componentDidMount()\r\n  {\r\n    this.pali();\r\n  }\r\n  \r\n  componentDidUpdate(prevProps: JoPiIloTenpo)\r\n  {\r\n    this.weka();\r\n    this.pali();\r\n  }\r\n  \r\n  componentWillUnmount()\r\n  {\r\n    this.weka();\r\n  }\r\n  \r\n  private suli = 220;\r\n  \r\n  private timer?: NodeJS.Timeout;\r\n  \r\n  private lukaTenpo = () =>\r\n  {\r\n    this.weka();\r\n    this.props.tenpoLa();\r\n  }\r\n  \r\n  private pali()\r\n  {\r\n    this.timer = setInterval(this.lukaTenpo, this.suli);\r\n  }\r\n  \r\n  private weka()\r\n  {\r\n    if(this.timer)\r\n      clearInterval(this.timer);\r\n  }\r\n}\r\n","import './lukinMusi.css';\r\nimport { Component } from 'react';\r\nimport { Musi } from '../insa/musi';\r\nimport { IloPalisa, Palisa } from './iloPalisa';\r\nimport { Ma } from './ma';\r\nimport { Tenpo } from './tenpo';\r\nimport { liNasinTawa } from '../insa/lon';\r\nimport { IloTenpo } from './iloTenpo';\r\nimport { LipuMa } from '../insa/lipuMa';\r\n\r\nexport interface JoPiLukinMusi\r\n{\r\n  readonly lipuMa: LipuMa;\r\n}\r\n\r\nexport class LukinMusi extends Component<JoPiLukinMusi, { musi: Musi }>\r\n{\r\n  constructor(jo: JoPiLukinMusi)\r\n  {\r\n    super(jo);\r\n    this.state = { musi: new Musi(jo.lipuMa) };\r\n  }\r\n  \r\n  render()\r\n  {\r\n    const musi = this.state.musi;\r\n    const tawaNi = musi.tawaNi;\r\n    \r\n    return (\r\n      <main>\r\n        <div className='nimiMa'>\r\n          {musi.nimiMa}\r\n        </div>\r\n        <Ma\r\n          suli={musi.suliMa}\r\n          lipuIjo={tawaNi.lipuIjo}\r\n          lukinWawa={tawaNi.lukinWawa}\r\n          liPini={tawaNi.pilin === 'pini'}\r\n        />\r\n        <Tenpo\r\n          nasin={musi.panaENasin(true)}\r\n          tenpoNi={musi.tenpoNi}\r\n          tenpoNanpaLa={this.lukaTenpoNanpa}\r\n          panaTanPokiLa={this.lukaPanaTanPoki}\r\n        />\r\n        <IloPalisa palisaLa={this.lukaPalisa} />\r\n        {\r\n          tawaNi.pilin === 'tawa' &&\r\n            <IloTenpo tenpoLa={this.lukaIloTenpo} />\r\n        }\r\n      </main>\r\n    );\r\n  }\r\n  \r\n  private lukaIloTenpo = () =>\r\n    this.setState({ musi: this.state.musi.tawaTawa() });\r\n  \r\n  private lukaTenpoNanpa = (nanpa: number) =>\r\n    this.setState({ musi: this.state.musi.tenpoNanpa(nanpa) });\r\n  \r\n  private lukaPanaTanPoki = (nasin: string) =>\r\n    this.setState({ musi: this.state.musi.sinETenpoAli(nasin) });\r\n  \r\n  private lukaPalisa = (palisa: Palisa) =>\r\n  {\r\n    if(!liNasinTawa(palisa) ||\r\n      this.state.musi.tawaNi.pilin === 'palisa')\r\n    {\r\n      const pali = this.paliPalisa[palisa];\r\n      this.setState({ musi: pali(this.state.musi) });\r\n    }\r\n  };\r\n  \r\n  private paliPalisa: Record<Palisa, (musi: Musi) => Musi> =\r\n  {\r\n    '↑':      musi => musi.tawaPalisa('↑'),\r\n    '↓':      musi => musi.tawaPalisa('↓'),\r\n    '←':      musi => musi.tawaPalisa('←'),\r\n    '→':      musi => musi.tawaPalisa('→'),\r\n    'monsi':  musi => musi.tenpoMonsi(),\r\n    'sinpin': musi => musi.tenpoSinpin(),\r\n    'open':   musi => musi.tenpoMonsi(true),\r\n    'pini':   musi => musi.tenpoSinpin(true),\r\n  } as const;\r\n}\r\n","import './maSeme.css';\r\nimport lipuMaAli from '../lipu/lipuMa.json'\r\nimport { LipuMa } from '../insa/lipuMa';\r\n\r\nexport const MaSeme = ({ paliLa }: { paliLa: (lipuMa: LipuMa) => void }) =>\r\n  <div className='maSeme'>\r\n    <p>sina wile musi lon ma seme?</p>\r\n    <div className='pokiMa'>\r\n      {lipuMaAli.map((lipuMa, nanpa) =>\r\n        <button\r\n          key={nanpa}\r\n          onClick={() => paliLa(lipuMa)}\r\n        >\r\n          {lipuMa.nimi}\r\n        </button>\r\n      )}\r\n    </div>\r\n  </div>;\r\n","import './sijelo.css';\r\n//import lipuMaAli from '../lipu/lipuMa.json'  // O WEKA\r\nimport { LukinMusi } from './lukinMusi';\r\nimport { MaSeme } from './maSeme';\r\nimport { LipuMa } from '../insa/lipuMa';\r\nimport { Component } from 'react';\r\n\r\ninterface InsaSijelo\r\n{\r\n  readonly lipuMa?: LipuMa;\r\n}\r\n\r\nexport class Sijelo extends Component<{ }, InsaSijelo>\r\n{\r\n  constructor(jo: { })\r\n  {\r\n    super(jo);\r\n    this.state = { };\r\n    // pali la:\r\n    //this.state = { lipuMa: lipuMaAli[0] };\r\n  }\r\n  \r\n  render()\r\n  {\r\n    return (\r\n      <>\r\n        <header onClick={this.lukaMonsi}>\r\n          <h1>soweli li mi</h1>\r\n          <h2>soweli li mi</h2>\r\n          <h3>nimi li lon la ijo li lon</h3>\r\n        </header>\r\n        {\r\n          this.state.lipuMa\r\n            ? <LukinMusi lipuMa={this.state.lipuMa} />\r\n            : <MaSeme paliLa={this.lukaPali} />\r\n        }\r\n      </>\r\n    );\r\n  }\r\n\r\n  private lukaPali = (lipuMa: LipuMa) =>\r\n    this.setState({ lipuMa: lipuMa });\r\n  \r\n  private lukaMonsi = () =>\r\n    this.setState({ lipuMa: undefined });\r\n}\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) =>\n{\n  if(onPerfEntry && onPerfEntry instanceof Function)\n  {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) =>\n    {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import './index.css';\nimport { StrictMode } from 'react';\nimport { render } from 'react-dom';\nimport { Sijelo } from './lukin/sijelo';\nimport reportWebVitals from './reportWebVitals';\n\nrender(\n  <StrictMode>\n    <Sijelo />\n  </StrictMode>,\n  document.getElementById('sijelo')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
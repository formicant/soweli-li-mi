{"version":3,"sources":["insa/lipuMa.ts","insa/lon.ts","insa/lonIjo.ts","insa/kepeken.ts","insa/nimiAli.ts","insa/lonPali.ts","insa/toki.ts","insa/pilinToki.ts","insa/tawa.ts","insa/musi.ts","iloPalisa.tsx","lukinNimi.ts","kipisiENimi.ts","jasima.ts","leko.tsx","insa/ijo.ts","ma.tsx","insa/nasinMusi.ts","lukinMusi.tsx","sijelo.tsx","reportWebVitals.ts","index.tsx"],"names":["lipuMaAli","nimi","suli","x","y","ijoAli","liSitelen","paliEPokiLon","makeTypedFactory","paliELonIjo","lipuIjo","groupBy","ijo","toMap","monsiEKulupu","kulupu","Im","Seq","flatMap","tawaMute","tan","map","tawa","nimiInsaKulupu","toki","pali","kulupuPiNimiAli","nimiAli","keys","panaEKulupuNimi","get","paliELonPali","lonIjo","nasinMusi","Map","mapEntries","lon","ijoMute","nanpa","ijoAntePiLonSama","filterNot","_","nanpaNi","toSet","nimiPiIjoSitelenAntePiLonSama","toSeq","filter","ni","nasinLiLon","nasin","semeLiLon","seme","contains","lonSemeLiLon","lonSeme","some","isEmpty","intersect","liSeme","panaEPali","panaENanpaTanPali","lukin","undefined","paliMute","keySeq","Set","of","panaELinja","anteEPokaESewi","ante","suliAnte","Range","ijoENanpa","lonToki","index","rowBegin","columnBegin","rowEnd","columnEnd","panaELonToki","nimiWan","entrySeq","first","nanpaIjo","kind","text","pos","next","paliEToki","update","panaELinjaToki","tokiMute","linjaEPalisaToki","toStack","palisaToki","size","peek","pop","Error","pilinMute","pilinInsa","pilinJaki","rep","alt","tok","pilinIjo","pilinKulupu","pilinPali","pilinLi","str","pilinEn","pilinLon","pilinSeme","apply","seq","lawa","sijelo","concat","insa","mute","pilinLeko","union","pilinNasinMusi","leko","li","pilin","kmid","panaENasinMusiAli","panaETokiAli","linja","expectEOF","parse","successful","candidates","ken","result","cacheResult","wekaENasinMusiInsa","toArray","nasinMute","nasinNi","nasinAnte","isSubset","panaEKulupuTawa","suliMa","lonPali","lukinEKulupuTawa","lukinNi","lonSin","merge","tawaEPokiLon","lukinSin","liInsaMa","lukinTawa","Keyed","toKeyedSeq","valueSeq","tenpoMonsi","musi","ali","tenpoNi","tenpoSinpin","tenpo","tawaNi","lipuMa","kulupuTawaSin","tawaELon","lipuIjoSin","equals","tawaSin","tenpoSin","take","toList","palisaPiNimiPalisa","IloPalisa","render","lukaPalisa","palisa","code","props","palisaLa","window","addEventListener","this","removeEventListener","Component","kipisiPiNimiAli","lukinPiNnimiAli","soweli","kule","anteTawa","waso","kala","akesi","pipi","tomo","kiwen","telo","ko","kasi","kili","sike","kon","mi","pini","moli","awen","weka","pakala","e","en","ala","anteEKule","sitelen","kipisiENimi","lonSitelen","document","createElement","getContext","paliELinja","nimiLili","suliPokaAli","suliPoka","Math","round","measureText","width","length","nanpaSuliPiLinjaWan","meso","substring","nanpaSuliPiLinjaTu","minBy","wan","tu","abs","font","kipisi","paliEKipisiPiNimiAli","panaEJasima","jasimaMajuna","lonMajuna","nanpaNasin","namakoLawa","nanpaMajuna","jasima","alasaNanpaPiJasimaSike","exec","parseFloat","panaENanpaPiJasimaSike","floor","Leko","panaEKulupuIjo","kulupuLukin","classNames","lukinNimi","ijoMajuna","sin","ona","useRef","useEffect","current","useMajuna","useState","sinEJasima","left","top","transform","lukinKule","backgroundColor","color","className","style","nanpaLinja","fontVariationSettings","Ma","lekoAli","nanpaTaso","toIndexedSeq","height","tokiENasinMusi","join","LukinMusi","jo","paliPalisa","setState","state","List","openEMusi","lipuPiNasinMusi","Sijelo","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","getElementById"],"mappings":"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","file":"static/js/main.8f195648.chunk.js","sourcesContent":["import { Lon } from \"./lon\";\r\nimport { Ijo } from \"./ijo\";\r\n\r\nexport interface LipuMa\r\n{\r\n  readonly nimi: string;\r\n  readonly suli: Lon;\r\n  readonly ijoAli: Ijo[];\r\n}\r\n\r\nexport const lipuMaAli: LipuMa[] =\r\n[\r\n  {\r\n    nimi: 'ma pona',\r\n    suli: { x: 15, y: 10 },\r\n    ijoAli:\r\n    [\r\n      { x: 2, y: 2, liSitelen: true, nimi: 'soweli' },\r\n      { x: 6, y: 3, liSitelen: true, nimi: 'kala' },\r\n      { x: 8, y: 1, liSitelen: true, nimi: 'kiwen' },\r\n      { x: 1, y: 7, liSitelen: false, nimi: 'soweli' },\r\n      { x: 2, y: 6, liSitelen: false, nimi: 'en' },\r\n      { x: 3, y: 6, liSitelen: false, nimi: 'kala' },\r\n      { x: 4, y: 6, liSitelen: false, nimi: 'li' },\r\n      { x: 5, y: 6, liSitelen: false, nimi: 'mi' },\r\n      { x: 8, y: 5, liSitelen: false, nimi: 'kiwen' },\r\n      { x: 8, y: 6, liSitelen: false, nimi: 'li' },\r\n      { x: 8, y: 7, liSitelen: false, nimi: 'awen' },\r\n      { x: 11, y: 3, liSitelen: false, nimi: 'nimi' },\r\n      { x: 12, y: 3, liSitelen: false, nimi: 'li' },\r\n      { x: 13, y: 3, liSitelen: false, nimi: 'tawa' },\r\n    ]\r\n  },\r\n];\r\n","import { TypedRecord, makeTypedFactory } from 'typed-immutable-record';\r\n\r\nexport interface Lon\r\n{\r\n  readonly x: number,\r\n  readonly y: number;\r\n}\r\n\r\nexport interface PokiLon extends TypedRecord<PokiLon>, Lon { }\r\nexport const paliEPokiLon = makeTypedFactory<Lon, PokiLon>({ x: 0, y: 0 });\r\n","import Im from 'immutable';\r\nimport { PokiLon, paliEPokiLon } from './lon';\r\nimport { Ijo,  LipuIjo } from './ijo';\r\n\r\nexport type LonIjo = Im.Map<PokiLon, Im.Collection<number, Ijo>>;\r\n\r\nexport function paliELonIjo(lipuIjo: LipuIjo): LonIjo\r\n{\r\n  return lipuIjo\r\n    .groupBy(ijo => paliEPokiLon(ijo))\r\n    .toMap();\r\n}\r\n","import Im from \"immutable\";\r\n\r\nexport function monsiEKulupu<TTan extends string, TTawa>(kulupu: { [tan in TTan]: readonly TTawa[] })\r\n{\r\n  return Im.Seq(kulupu)\r\n    .flatMap((tawaMute, tan) => Im.Seq(tawaMute as TTawa[]).map(tawa => [tawa, tan as TTan]))\r\n    .toMap();\r\n  // o pona e ni!\r\n}\r\n","import { monsiEKulupu } from \"./kepeken\";\r\n\r\nexport type KulupuNimi = 'toki' | 'kulupu' | 'ijo' | 'pali';\r\n\r\nconst nimiInsaKulupu =\r\n{\r\n  toki:\r\n  [\r\n    'li',\r\n    'e',\r\n    'en',\r\n    'ala',\r\n    'lon',\r\n  ],\r\n  kulupu:\r\n  [\r\n    'ali',\r\n    'nimi',\r\n    'kon',\r\n  ],\r\n  ijo:\r\n  [\r\n    'soweli',\r\n    'waso',\r\n    'kala',\r\n    'akesi',\r\n    'pipi',\r\n    'tomo',\r\n    'kiwen',\r\n    'telo',\r\n    'ko',\r\n    'kasi',\r\n    'kili',\r\n    'sike',\r\n    'leko',\r\n  ],\r\n  pali:\r\n  [\r\n    'mi',\r\n    'pini',\r\n    'moli',\r\n    'awen',\r\n    'weka',\r\n    'tawa',\r\n    'pakala',\r\n  ],\r\n} as const;\r\n\r\nconst kulupuPiNimiAli = monsiEKulupu(nimiInsaKulupu);\r\n\r\nexport const nimiAli = kulupuPiNimiAli.keys();\r\n\r\nexport type NimiToki   = typeof nimiInsaKulupu.toki  [number];\r\nexport type NimiKulupu = typeof nimiInsaKulupu.kulupu[number];\r\nexport type NimiIjo    = typeof nimiInsaKulupu.ijo   [number];\r\nexport type NimiPali   = typeof nimiInsaKulupu.pali  [number];\r\n\r\nexport type Nimi = NimiToki | NimiKulupu | NimiIjo | NimiPali;\r\n\r\nexport function liInsaKulupu(nimi: Nimi, kulupu: 'toki'  ): nimi is NimiToki\r\nexport function liInsaKulupu(nimi: Nimi, kulupu: 'kulupu'): nimi is NimiKulupu\r\nexport function liInsaKulupu(nimi: Nimi, kulupu: 'ijo'   ): nimi is NimiIjo\r\nexport function liInsaKulupu(nimi: Nimi, kulupu: 'pali'  ): nimi is NimiPali\r\nexport function liInsaKulupu(nimi: Nimi, kulupu: KulupuNimi)\r\n{\r\n  return (nimiInsaKulupu[kulupu] as ReadonlyArray<Nimi>).includes(nimi);\r\n}\r\n\r\nexport function panaEKulupuNimi(nimi: Nimi)\r\n{\r\n  return kulupuPiNimiAli.get(nimi) as KulupuNimi;\r\n}\r\n","import Im from 'immutable';\r\nimport { PokiLon } from './lon';\r\nimport { Ijo } from './ijo';\r\nimport { NimiIjo, NimiPali, panaEKulupuNimi } from './nimiAli';\r\nimport { NasinMusi } from './nasinMusi';\r\nimport { LonIjo } from './lonIjo';\r\n\r\nexport type LonPali = Im.Map<PokiLon, Im.Collection<number, Im.Set<NimiPali>>>;\r\n\r\nexport function paliELonPali(lonIjo: LonIjo, nasinMusi: readonly NasinMusi[]): LonPali\r\n{\r\n  // O PALI: nasin musi pi lukin ‘kon li ...’!\r\n  \r\n  return Im.Map(\r\n    lonIjo.mapEntries(([lon, ijoMute]) =>\r\n      [lon, ijoMute.map((ijo, nanpa) => panaEPali(lon, ijo, nanpa, lonIjo, nasinMusi))])\r\n  );\r\n}\r\n\r\nexport function panaENanpaTanPali(lukin: Im.Collection<number, Im.Set<NimiPali>> | undefined, pali: NimiPali)\r\n{\r\n  if(lukin !== undefined)\r\n    return lukin.filter(paliMute => paliMute.contains(pali)).keySeq().toSet();\r\n  else\r\n    return Im.Set.of<number>();\r\n}\r\n\r\nfunction panaEPali(lon: PokiLon, ijo: Ijo, nanpa: number, lonIjo: LonIjo, nasinMusi: readonly NasinMusi[])\r\n{\r\n  const ijoAntePiLonSama = lonIjo\r\n    .get(lon)!\r\n    .filterNot((_, nanpaNi) => nanpaNi === nanpa)\r\n    .toSet();\r\n  const nimiPiIjoSitelenAntePiLonSama = ijoAntePiLonSama\r\n    .toSeq()\r\n    .filter(ni => ni.liSitelen)\r\n    .map(ni => ni.nimi as NimiIjo)\r\n    .toSet();\r\n  \r\n  function nasinLiLon(nasin: NasinMusi)\r\n  {\r\n    const semeLiLon =\r\n      nasin.seme.contains('ali') ||\r\n      (!ijo.liSitelen && nasin.seme.contains('nimi')) ||\r\n      (ijo.liSitelen && nasin.seme.contains(ijo.nimi));\r\n    \r\n    const lonSemeLiLon =\r\n      nasin.lonSeme.contains('ali') ||\r\n      (nasin.lonSeme.contains('nimi') && ijoAntePiLonSama.some(ni => !ni.liSitelen)) ||\r\n      (nasin.lonSeme.contains('kon') && ijoAntePiLonSama.isEmpty()) ||\r\n      !nasin.lonSeme.intersect(nimiPiIjoSitelenAntePiLonSama).isEmpty();\r\n    \r\n    return semeLiLon && lonSemeLiLon;\r\n  }\r\n  \r\n  const paliMute = Im.Seq(nasinMusi)\r\n    .filter(nasinLiLon)\r\n    .flatMap(nasin => nasin.liSeme)\r\n    .filter(liSeme => panaEKulupuNimi(liSeme) === 'pali')\r\n    .map(pali => pali as NimiPali)\r\n    .toSet();\r\n  return paliMute;\r\n}\r\n","import Im from 'immutable';\r\nimport { Token, TokenPosition } from 'typescript-parsec';\r\nimport { KulupuNimi, panaEKulupuNimi } from './nimiAli';\r\nimport { Lon, paliEPokiLon } from './lon';\r\nimport { LonIjo } from './lonIjo';\r\nimport { Ijo } from './ijo';\r\n\r\ntype KulupuToki = KulupuNimi | 'ala';\r\n\r\nexport interface Toki extends Token<KulupuToki>\r\n{\r\n  nanpaIjo?: number;\r\n}\r\n\r\nexport function panaETokiAli(suli: Lon, lonIjo: LonIjo)\r\n{\r\n  return panaELinja(suli, lonIjo, false)\r\n    .concat(panaELinja(suli, lonIjo, true));\r\n}\r\n\r\nfunction panaELinja(suli: Lon, lonIjo: LonIjo, anteEPokaESewi: boolean)\r\n{\r\n  const ante = anteEPokaESewi\r\n    ? ({ x, y }: Lon) => ({ x: y, y: x })\r\n    : ({ x, y }: Lon) => ({ x: x, y: y });\r\n  const suliAnte = ante(suli);\r\n  \r\n  return Im.Range(0, suliAnte.y).map(y =>\r\n    Im.Range(0, suliAnte.x)\r\n      .map(x => paliEToki(x, lonIjo.get(paliEPokiLon(ante({ x: x, y: y })))))\r\n      .update(panaELinjaToki));\r\n}\r\n\r\nfunction panaELinjaToki(tokiMute: Im.Seq.Indexed<Toki>)\r\n{\r\n  const palisaToki = tokiMute.toStack();\r\n  return linjaEPalisaToki(palisaToki);\r\n}\r\n\r\nfunction linjaEPalisaToki(palisaToki: Im.Stack<Toki>): Toki\r\n{\r\n  if(palisaToki.size > 1)\r\n    return {\r\n      ...palisaToki.peek()!,\r\n      next: linjaEPalisaToki(palisaToki.pop())\r\n    };\r\n  else if(palisaToki.size === 1)\r\n    return palisaToki.peek()!;\r\n  else\r\n    throw Error('palisa toki li jo e ala!');\r\n}\r\n\r\nfunction paliEToki(x: number, ijoENanpa: Im.Collection<number, Ijo> | undefined): Toki\r\n{\r\n  const lonToki = panaELonToki(x);\r\n  if(ijoENanpa !== undefined)\r\n  {\r\n    const nimiWan = ijoENanpa.filterNot(ijo => ijo.liSitelen).entrySeq().first();\r\n    // O PALI: lon wan li ken jo e nimi mute. o pali pana e ken ali!\r\n    if(nimiWan !== undefined)\r\n    {\r\n      const [nanpa, ijo] = nimiWan;\r\n      const nimi = ijo.nimi;\r\n      const kulupu = panaEKulupuNimi(nimi);\r\n      return {\r\n        nanpaIjo: nanpa,\r\n        kind: kulupu,\r\n        text: nimi,\r\n        pos: lonToki,\r\n        next: undefined,\r\n      };\r\n    }\r\n  }\r\n  \r\n  return {\r\n    kind: 'ala',\r\n    text: '',\r\n    pos: lonToki,\r\n    next: undefined,\r\n  };\r\n}\r\n\r\nfunction panaELonToki(x: number): TokenPosition\r\n{\r\n  return {\r\n    index: x,\r\n    rowBegin: 1,\r\n    columnBegin: x + 1,\r\n    rowEnd: 1,\r\n    columnEnd: x + 2,\r\n  };\r\n}\r\n","import Im from 'immutable';\r\nimport { apply, expectEOF, str, tok, seq, rep, alt, kmid, Parser } from 'typescript-parsec';\r\nimport { LonIjo } from './lonIjo';\r\nimport { Lon } from './lon';\r\nimport { panaETokiAli, Toki } from './toki';\r\nimport { Seme, LiSeme, NasinMusi } from './nasinMusi';\r\n\r\nconst pilinJaki = rep(alt(tok('ala'), tok('ijo'), tok('kulupu'), tok('toki'), tok('pali')));\r\n\r\nconst pilinIjo    = tok('ijo'    as const);\r\nconst pilinKulupu = tok('kulupu' as const);\r\nconst pilinPali   = tok('pali'   as const);\r\n\r\nconst pilinLi  = str<'toki'>('li');\r\nconst pilinEn  = str<'toki'>('en');\r\nconst pilinLon = str<'toki'>('lon');\r\n//const pilinAla = str<'toki'>('ala');\r\n\r\nconst pilinSeme = apply(\r\n  muteEnInsa(alt(pilinIjo, pilinKulupu), pilinEn),\r\n  ([mute, insa]) =>\r\n  ({\r\n    seme: Im.Seq(mute).map(ni => ni.text as Seme).toSet(),\r\n    nanpaIjo: Im.Seq(mute).map((ni: Toki) => ni.nanpaIjo!)\r\n      .concat(Im.Seq(insa).map((ni: Toki) => ni.nanpaIjo!))\r\n      .toSet()\r\n  } as const)\r\n);\r\n\r\nconst pilinLeko = alt(\r\n  apply(\r\n    pilinSeme,\r\n    ({ nanpaIjo, seme }) =>\r\n    ({\r\n      seme: seme,\r\n      lonSeme: Im.Set.of('ali' as Seme),\r\n      nanpaIjo: nanpaIjo\r\n    })\r\n  ),\r\n  apply(\r\n    seq(pilinSeme, pilinLon, pilinSeme),\r\n    ([seme, lon, lonSeme]) =>\r\n    ({\r\n      seme: seme.seme,\r\n      lonSeme: lonSeme.seme,\r\n      nanpaIjo: Im.Set.of((lon as Toki).nanpaIjo!).union(seme.nanpaIjo, lonSeme.nanpaIjo)\r\n    })\r\n  )\r\n);\r\n\r\nconst pilinNasinMusi = apply(\r\n  seq(pilinLeko, pilinLi, alt(pilinPali, pilinIjo)),\r\n  ([leko, li, liSeme]) =>\r\n  ({\r\n    seme: leko.seme,\r\n    lonSeme: leko.lonSeme,\r\n    liSeme: Im.Set.of(liSeme.text as LiSeme),\r\n    nanpaIjo: Im.Set.of((li as Toki).nanpaIjo!, (liSeme as Toki).nanpaIjo!).union(leko.nanpaIjo)\r\n  } as NasinMusi)\r\n);\r\n\r\nconst pilin = kmid(pilinJaki, pilinNasinMusi, pilinJaki);\r\n\r\nexport function panaENasinMusiAli(suli: Lon, lonIjo: LonIjo): readonly NasinMusi[]\r\n{\r\n  const tokiAli = panaETokiAli(suli, lonIjo);\r\n  const nasinAli = tokiAli\r\n    .map(linja => expectEOF(pilin.parse(linja)))\r\n    .filter(linja => linja.successful)\r\n    .flatMap(linja => linja.successful\r\n      ? Im.Seq(linja.candidates).map(ken => ken.result).cacheResult().update(wekaENasinMusiInsa)\r\n      : undefined as never)\r\n    .toArray();\r\n  \r\n  return nasinAli;\r\n}\r\n\r\nfunction wekaENasinMusiInsa(nasinMute: Im.Seq.Indexed<NasinMusi>)\r\n{\r\n  return nasinMute\r\n    .filterNot(nasinNi =>\r\n      nasinMute.some(nasinAnte =>\r\n        nasinAnte !== nasinNi && nasinNi.nanpaIjo.isSubset(nasinAnte.nanpaIjo)));\r\n}\r\n\r\nfunction muteEnInsa<TKulupu, TMute, TInsa>(\r\n  pilinMute: Parser<TKulupu, TMute>,\r\n  pilinInsa: Parser<TKulupu, TInsa>\r\n): Parser<TKulupu, [TMute[], TInsa[]]>\r\n{\r\n  return apply(\r\n    seq(pilinMute, rep(seq(pilinInsa, pilinMute))),\r\n    ([lawa, sijelo]) =>\r\n    [\r\n      [lawa].concat(sijelo.map(([insa, mute]) => mute)),\r\n      sijelo.map(([insa, mute]) => insa)\r\n    ]\r\n  );\r\n}\r\n","import Im from 'immutable';\r\nimport { Ijo, LipuIjo } from './ijo';\r\nimport { Lon, PokiLon } from './lon';\r\nimport { LonPali, panaENanpaTanPali } from './lonPali';\r\n\r\nexport type NasinTawa = 'sewi' | 'anpa' | 'soto' | 'teje';\r\n\r\nexport interface Tawa\r\n{\r\n  readonly nasin?: NasinTawa;\r\n  readonly lipuIjo: LipuIjo;\r\n}\r\n\r\nexport function tawaOpen(ijoAli: Iterable<Ijo>): Tawa\r\n{\r\n  return {\r\n    lipuIjo: Im.Map(Im.Seq(ijoAli).toKeyedSeq())\r\n  };\r\n}\r\n\r\n\r\nexport function panaEKulupuTawa(suliMa: Lon, lonPali: LonPali, nasin: NasinTawa)\r\n{\r\n  const miMute = Im.Seq.Keyed(\r\n    lonPali.entrySeq().flatMap(([lon, mute]) =>\r\n      mute\r\n        .filter(pali => pali.contains('mi'))\r\n        .toKeyedSeq()\r\n        .mapEntries(([nanpa, _]) => [nanpa, lon]))\r\n  );\r\n\r\n  function lukinEKulupuTawa(nanpa: number, lon: PokiLon): Im.Set<number>\r\n  {\r\n    const lukinNi = lonPali.get(lon);\r\n    const lonSin = tawaEPokiLon(lon, nasin);\r\n    const lukinSin = lonPali.get(lonSin);\r\n    const ken =\r\n      liInsaMa(lonSin, suliMa) &&\r\n      panaENanpaTanPali(lukinNi, 'awen').isEmpty() &&\r\n      panaENanpaTanPali(lukinSin, 'awen').isEmpty();\r\n    \r\n    if(ken)\r\n    {\r\n      const tawa = panaENanpaTanPali(lukinSin, 'tawa')\r\n        .union(panaENanpaTanPali(lukinSin, 'mi'));\r\n      const lukinTawa = tawa.toSeq().map(ni => lukinEKulupuTawa(ni, lonSin));\r\n      if(lukinTawa.some(ni => ni.isEmpty()))\r\n        return Im.Set.of<number>();\r\n      else\r\n        return Im.Set.of(nanpa).union(...lukinTawa);\r\n    }\r\n    else\r\n      return Im.Set.of<number>();\r\n  }\r\n  \r\n  const kulupuTawaAli = miMute\r\n    .map((lon, nanpa) => lukinEKulupuTawa(nanpa, lon))\r\n    .valueSeq().flatMap(ni => ni)\r\n    .toSet();\r\n  \r\n  return kulupuTawaAli;\r\n}\r\n\r\nfunction tawaEPokiLon(lon: PokiLon, nasin: NasinTawa)\r\n{\r\n  switch(nasin)\r\n  {\r\n    case 'sewi': return lon.merge({ y: lon.y - 1 });\r\n    case 'anpa': return lon.merge({ y: lon.y + 1 });\r\n    case 'soto': return lon.merge({ x: lon.x - 1 });\r\n    case 'teje': return lon.merge({ x: lon.x + 1 });\r\n    default: throw Error('nasin li ike!');\r\n  }\r\n}\r\n\r\nexport function tawaELon<T extends Lon>(lon: T, nasin: NasinTawa): T\r\n{\r\n  switch(nasin)\r\n  {\r\n    case 'sewi': return { ...lon, y: lon.y - 1 };\r\n    case 'anpa': return { ...lon, y: lon.y + 1 };\r\n    case 'soto': return { ...lon, x: lon.x - 1 };\r\n    case 'teje': return { ...lon, x: lon.x + 1 };\r\n    default: throw Error('nasin li ike!');\r\n  }\r\n}\r\n\r\nfunction liInsaMa<T extends Lon>(lon: T, suli: Lon)\r\n{\r\n  return (\r\n    lon.x >= 0 && lon.x < suli.x &&\r\n    lon.y >= 0 && lon.y < suli.y\r\n  );\r\n}\r\n","import Im from \"immutable\";\r\nimport { LipuMa } from \"./lipuMa\";\r\nimport { paliELonIjo } from \"./lonIjo\";\r\nimport { paliELonPali } from \"./lonPali\";\r\nimport { panaENasinMusiAli } from \"./pilinToki\";\r\nimport { NasinTawa, Tawa, tawaOpen, panaEKulupuTawa, tawaELon } from \"./tawa\";\r\n\r\nexport interface Musi\r\n{\r\n  readonly lipuMa: LipuMa;\r\n  readonly tenpo: Im.List<Tawa>;\r\n  readonly tenpoNi: number;\r\n}\r\n\r\nexport function openEMusi(lipuMa: LipuMa): Musi\r\n{\r\n  return {\r\n    lipuMa: lipuMa,\r\n    tenpo: Im.List.of(tawaOpen(lipuMa.ijoAli)),\r\n    tenpoNi: 0,\r\n  };\r\n}\r\n\r\nexport function tenpoMonsi(musi: Musi, ali: boolean = false): Musi\r\n{\r\n  if(musi.tenpoNi > 0)\r\n    return { ...musi, tenpoNi: ali ? 0 : musi.tenpoNi - 1 };\r\n  else\r\n    return musi;\r\n}\r\n\r\nexport function tenpoSinpin(musi: Musi, ali: boolean = false): Musi\r\n{\r\n  if(musi.tenpoNi < musi.tenpo.size - 1)\r\n    return { ...musi, tenpoNi: ali ? musi.tenpo.size - 1 : musi.tenpoNi + 1 };\r\n  else\r\n    return musi;\r\n}\r\n\r\nexport function tawa(musi: Musi, nasin: NasinTawa): Musi\r\n{\r\n  const lipuIjo = tawaNi(musi).lipuIjo;\r\n  const lonIjo = paliELonIjo(lipuIjo);\r\n  const nasinMusi = panaENasinMusiAli(musi.lipuMa.suli, lonIjo);\r\n  const lonPali = paliELonPali(lonIjo, nasinMusi);\r\n  \r\n  const kulupuTawa = panaEKulupuTawa(musi.lipuMa.suli, lonPali, nasin)\r\n    .toKeyedSeq()\r\n    .mapEntries(([_, nanpa]) => [nanpa, lipuIjo.get(nanpa)!]);\r\n  \r\n  const kulupuTawaSin = kulupuTawa.map(ijo => tawaELon(ijo, nasin), musi.lipuMa.suli);\r\n  const lipuIjoSin = lipuIjo.merge(kulupuTawaSin);\r\n  \r\n  if(lipuIjoSin.equals(lipuIjo)) // li pali ala. ijo li sama ala.\r\n    return musi\r\n  else\r\n  {\r\n    const tawaSin: Tawa = { nasin: nasin, lipuIjo: lipuIjoSin };\r\n    const tenpoSin = musi.tenpo.toSeq().take(musi.tenpoNi + 1).concat([tawaSin]).toList();\r\n    \r\n    return { ...musi, tenpo: tenpoSin, tenpoNi: musi.tenpoNi + 1 };\r\n  }\r\n}\r\n\r\nexport function tawaNi(musi: Musi)\r\n{\r\n  const tawaNi = musi.tenpo.get(musi.tenpoNi);\r\n  if(tawaNi)\r\n    return tawaNi;\r\n  else\r\n    throw Error('tenpo ni li ike!');\r\n}\r\n\r\n// /**\r\n//  * pana e linja tenpo pi ijo wan tan tenpo ni tawa open musi.\r\n//  * ni li pona taso tawa jasima e leko.\r\n//  * @param nanpaIjo nanpa taso tawa pana e ijo tan LipuIjo.\r\n//  */\r\n// export function tenpoPiniIjo(musi: Musi, nanpaIjo: number)\r\n// {\r\n//   return Im.Range(musi.tenpoNi, -1, -1)\r\n//     .map(t => musi.tenpo.get(t)!.lipuIjo.get(nanpaIjo))\r\n//     .takeWhile(t => t !== undefined) as Im.Seq.Indexed<Ijo>;\r\n// }\r\n","import { Component } from 'react';\r\nimport { monsiEKulupu } from \"./insa/kepeken\";\r\nimport { NasinTawa } from \"./insa/tawa\";\r\n\r\ntype TawaTenpo = 'monsi' | 'sinpin' | 'open' | 'pini';\r\nexport type Palisa = NasinTawa | TawaTenpo;\r\n\r\nconst palisaAli: { [palisa in Palisa]: ReadonlyArray<string> } =\r\n{\r\n  'sewi':   ['KeyW', 'ArrowUp'],\r\n  'anpa':   ['KeyS', 'ArrowDown'],\r\n  'soto':   ['KeyA', 'ArrowLeft'],\r\n  'teje':   ['KeyD', 'ArrowRight'],\r\n  \r\n  'monsi':  ['KeyZ', 'Backspace'],\r\n  'sinpin': ['KeyX', 'Space'],\r\n  'open':   ['KeyR', 'Home'],\r\n  'pini':   ['KeyT', 'End'],\r\n} as const;\r\n\r\nconst palisaPiNimiPalisa = monsiEKulupu(palisaAli);\r\n\r\nexport interface JoPiIloPalisa\r\n{\r\n  palisaLa(palisa: Palisa): void;\r\n}\r\n\r\nexport class IloPalisa extends Component<JoPiIloPalisa>\r\n{\r\n  render = () => null;\r\n  \r\n  componentDidMount()\r\n  {\r\n    window.addEventListener('keydown', this.lukaPalisa);\r\n  }\r\n  \r\n  componentWillUnmount()\r\n  {\r\n    window.removeEventListener('keydown', this.lukaPalisa);\r\n  }\r\n  \r\n  private lukaPalisa = (pali: KeyboardEvent) =>\r\n  {\r\n    const palisa = palisaPiNimiPalisa.get(pali.code);\r\n    if(palisa)\r\n      this.props.palisaLa(palisa);\r\n  }\r\n}\r\n","import { Nimi } from './insa/nimiAli';\r\nimport { KulupuIjo } from './insa/ijo';\r\nimport { Kule } from './kule';\r\n\r\nexport type AnteTawa = 'poka' | 'sikePoka' | 'sikeSewi';\r\n\r\nexport interface LukinNimi\r\n{\r\n  readonly kule: Kule;\r\n  readonly anteTawa?: AnteTawa;\r\n  readonly lawaSewi?: boolean;\r\n}\r\n\r\nexport const lukinPiNnimiAli: { [nimi in Nimi]: LukinNimi } =\r\n{\r\n  soweli: { kule: '#222', anteTawa: 'poka' },\r\n  waso:   { kule: '#678', anteTawa: 'poka' },\r\n  kala:   { kule: '#d80', anteTawa: 'sikePoka' },\r\n  akesi:  { kule: '#294', anteTawa: 'sikeSewi' },\r\n  pipi:   { kule: '#850', anteTawa: 'sikeSewi' },\r\n  tomo:   { kule: '#640' },\r\n  kiwen:  { kule: '#468' },\r\n  telo:   { kule: '#09b' },\r\n  ko:     { kule: '#884' },\r\n  kasi:   { kule: '#2a4' },\r\n  kili:   { kule: '#b10' },\r\n  sike:   { kule: '#444' },\r\n  leko:   { kule: '#444' },\r\n  \r\n  ali:    { kule: '#666' },\r\n  nimi:   { kule: '#666' },\r\n  kon:    { kule: '#2af' },\r\n  \r\n  mi:     { kule: '#222' },\r\n  pini:   { kule: '#640' },\r\n  moli:   { kule: '#b10' },\r\n  awen:   { kule: '#468' },\r\n  weka:   { kule: '#bbb' },\r\n  tawa:   { kule: '#222' },\r\n  pakala: { kule: '#266' },\r\n  \r\n  li:     { kule: '#666' },\r\n  e:      { kule: '#666' },\r\n  en:     { kule: '#666' },\r\n  ala:    { kule: '#f20' },\r\n  lon:    { kule: '#666' },\r\n} as const;\r\n\r\nexport const anteEKule: { [kulupu in KulupuIjo]: boolean } =\r\n{\r\n  ijo:     true,\r\n  toki:    true,\r\n  kulupu:  true,\r\n  pali:    false,\r\n  sitelen: false,\r\n} as const;\r\n","import Im from 'immutable' ;\r\nimport { Nimi, nimiAli } from './insa/nimiAli';\r\n\r\ninterface LinjaNimi\r\n{\r\n  readonly nimiLili: string;\r\n  readonly suliPoka: number;\r\n}\r\n\r\nexport function kipisiENimi(nimi: Nimi): ReadonlyArray<LinjaNimi>\r\n{\r\n  if(!kipisiPiNimiAli)\r\n    kipisiPiNimiAli = paliEKipisiPiNimiAli();\r\n  \r\n  return kipisiPiNimiAli[nimi];\r\n}\r\n\r\ntype KipisiPiNimiAli = { [nimi in Nimi]: ReadonlyArray<LinjaNimi> };\r\nlet kipisiPiNimiAli: KipisiPiNimiAli | undefined;\r\n\r\nfunction paliEKipisiPiNimiAli(): KipisiPiNimiAli\r\n{\r\n  const lipuSitelen = document.createElement('canvas');\r\n  const lonSitelen = lipuSitelen.getContext('2d')!;\r\n  lonSitelen.font = 'normal 100px truculenta-variable';\r\n  \r\n  function paliELinja(nimiLili: string, suliPokaAli: number): LinjaNimi\r\n  {\r\n    const suliPoka = Math.round(suliPokaAli / lonSitelen.measureText(nimiLili).width);\r\n    return { nimiLili: nimiLili, suliPoka: suliPoka };\r\n  }\r\n  \r\n  function kipisiENimi(nimi: string): ReadonlyArray<LinjaNimi>\r\n  {\r\n    if(nimi.length < 4)\r\n      return [paliELinja(nimi, nanpaSuliPiLinjaWan)];\r\n    else\r\n    {\r\n      const kenKipisi = Im.Range(2, nimi.length - 1)\r\n        .map(meso => [\r\n          paliELinja(nimi.substring(0, meso), nanpaSuliPiLinjaTu),\r\n          paliELinja(nimi.substring(meso), nanpaSuliPiLinjaTu),\r\n        ]);\r\n      return kenKipisi\r\n        .minBy(([wan, tu]) => Math.abs(wan.suliPoka - tu.suliPoka)) ?? [];\r\n    }\r\n  }\r\n  \r\n  const kipisi: { [nimi: string]: ReadonlyArray<LinjaNimi> } = { };\r\n  for(const nimi of nimiAli)\r\n    kipisi[nimi] = kipisiENimi(nimi);\r\n  \r\n  return kipisi as KipisiPiNimiAli;\r\n}\r\n\r\nconst nanpaSuliPiLinjaWan = 8000;\r\nconst nanpaSuliPiLinjaTu = 10240;\r\n","import { Lon } from './insa/lon';\r\nimport { AnteTawa } from './lukinNimi'\r\n\r\nexport type Jasima = 'none' | `scaleX(${-1 | 1})` | `rotate(${number}turn)`;\r\n\r\nexport function panaEJasima(jasimaMajuna: Jasima, lonMajuna: Lon | undefined, lonSin: Lon, anteTawa?: AnteTawa): Jasima\r\n{\r\n  if(lonMajuna && (anteTawa === 'sikePoka' || anteTawa === 'sikeSewi'))\r\n  {\r\n    const nanpaNasin =\r\n      lonSin.x > lonMajuna.x ? 0 :\r\n      lonSin.y > lonMajuna.y ? 0.25 :\r\n      lonSin.x < lonMajuna.x ? 0.5 :\r\n      lonSin.y < lonMajuna.y ? 0.75 :\r\n      undefined;\r\n    \r\n    if(nanpaNasin !== undefined)\r\n    {\r\n      const namakoLawa =  anteTawa === 'sikeSewi' ? 0.25 : 0;\r\n      const nanpaMajuna = panaENanpaPiJasimaSike(jasimaMajuna, namakoLawa) ?? 0;\r\n      const sike = Math.floor(nanpaMajuna);\r\n      const ante = nanpaNasin - (nanpaMajuna - sike);\r\n      const namakoSike = sike + (ante <= -0.5 ? 1 : 0) + (ante >= 0.5 ? -1 : 0);\r\n      \r\n      const nanpaSike = nanpaNasin + namakoSike + namakoLawa;\r\n      return `rotate(${nanpaSike}turn)`;\r\n    }\r\n    else\r\n      return jasimaMajuna;\r\n  }\r\n  else if(lonMajuna && anteTawa === 'poka')\r\n  {\r\n    if(lonSin.x > lonMajuna.x)\r\n      return `scaleX(1)`;\r\n    else if(lonSin.x < lonMajuna.x)\r\n      return `scaleX(-1)`;\r\n    else\r\n      return jasimaMajuna;\r\n  }\r\n  else\r\n    return 'none';\r\n}\r\n\r\nfunction panaENanpaPiJasimaSike(jasima: Jasima, namakoLawa: number)\r\n{\r\n  const kili = alasaNanpaPiJasimaSike.exec(jasima);\r\n  if(kili)\r\n    return parseFloat(kili[1]) - namakoLawa;\r\n  else\r\n    return undefined;\r\n}\r\n\r\nconst alasaNanpaPiJasimaSike = /^rotate\\((.*)turn\\)$/;\r\n","import './leko.css';\r\nimport classNames from 'classnames';\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { Ijo, panaEKulupuIjo } from './insa/ijo';\r\nimport { lukinPiNnimiAli, anteEKule } from './lukinNimi'\r\nimport { kipisiENimi } from './kipisiENimi';\r\nimport { Jasima, panaEJasima } from './jasima';\r\n\r\nexport function Leko(ijo: Ijo)\r\n{\r\n  const kulupu = panaEKulupuIjo(ijo);\r\n  const kulupuLukin = classNames('insaLeko', kulupu);\r\n  const lukinNimi = lukinPiNnimiAli[ijo.nimi];\r\n  const anteTawa = ijo.liSitelen ? lukinNimi.anteTawa : undefined;\r\n  \r\n  const ijoMajuna = useMajuna(ijo);\r\n  const [jasimaMajuna, sinEJasima] = useState<Jasima>('none');\r\n  const jasima = panaEJasima(jasimaMajuna, ijoMajuna, ijo, anteTawa);\r\n  if(jasima !== jasimaMajuna)\r\n    sinEJasima(jasima);\r\n  \r\n  const lukin =\r\n  {\r\n    left: `${ijo.x}em`,\r\n    top: `${ijo.y}em`,\r\n    transform: jasima,\r\n  };\r\n  const lukinKule = anteEKule[kulupu]\r\n    ? { backgroundColor: lukinNimi.kule }\r\n    : { color: lukinNimi.kule };\r\n  \r\n  return (\r\n    <div className={'leko'} style={lukin}>\r\n      <div className={kulupuLukin} style={lukinKule}>\r\n        {insa(ijo)}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction insa(ijo: Ijo)\r\n{\r\n  if(ijo.liSitelen)\r\n    return <span>{ijo.nimi}</span>;\r\n  else\r\n  {\r\n    const linja = kipisiENimi(ijo.nimi);\r\n    const nanpaLinja = linja.length === 1 ? 'linjaWan' : 'linjaTu';\r\n    const kulupuLukin = classNames('nimi', nanpaLinja);\r\n    \r\n    return linja.map(({ nimiLili, suliPoka }, nanpa) =>\r\n      <span key={nanpa} className={kulupuLukin}\r\n        style={{ fontVariationSettings: `'wdth' ${suliPoka}, 'opsz' 12` }}\r\n      >\r\n        {nimiLili}\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nfunction useMajuna<T>(sin: T)\r\n{\r\n  const ona = useRef<T>();\r\n  useEffect(() => { ona.current = sin; });\r\n  return ona.current;\r\n}\r\n","import Im from 'immutable';\r\nimport { Lon } from './lon';\r\nimport { Nimi, NimiIjo, KulupuNimi, panaEKulupuNimi } from './nimiAli'\r\n\r\nexport interface IjoNimi extends Lon\r\n{\r\n  readonly liSitelen: false;\r\n  readonly nimi: Nimi;\r\n}\r\n\r\nexport interface IjoSitelen extends Lon\r\n{\r\n  readonly liSitelen: true;\r\n  readonly nimi: NimiIjo;\r\n}\r\n\r\nexport type Ijo = IjoNimi | IjoSitelen;\r\n\r\nexport type LipuIjo = Im.Map<number, Ijo>;\r\n\r\nexport type KulupuIjo = KulupuNimi | 'sitelen';\r\n\r\nexport function panaEKulupuIjo(ijo: Ijo)\r\n{\r\n  if(ijo.liSitelen)\r\n    return 'sitelen';\r\n  else\r\n    return panaEKulupuNimi(ijo.nimi);\r\n}\r\n","import './ma.css';\r\nimport { Component } from 'react';\r\nimport { Lon } from './insa/lon';\r\nimport { LipuIjo } from './insa/ijo';\r\nimport { Leko } from './leko';\r\n\r\ninterface JoMa\r\n{\r\n  readonly suli: Lon;\r\n  readonly lipuIjo: LipuIjo;\r\n}\r\n\r\nexport class Ma extends Component<JoMa>\r\n{\r\n  render()\r\n  {\r\n    const lekoAli = this.props.lipuIjo\r\n      .map((ijo, nanpaTaso) =>\r\n        <Leko key={nanpaTaso} {...ijo} />\r\n      )\r\n      .toIndexedSeq();\r\n    \r\n    return (\r\n      <div className='ma' style={{\r\n        width: `${this.props.suli.x}em`,\r\n        height: `${this.props.suli.y}em`,\r\n      }}>\r\n        {lekoAli}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import Im from 'immutable';\r\nimport { NimiIjo, NimiKulupu, NimiPali } from './nimiAli';\r\n\r\nexport type Seme = NimiIjo | NimiKulupu;\r\nexport type LiSeme = NimiPali | NimiIjo;\r\n\r\nexport interface NasinMusi{\r\n  readonly seme: Im.Set<Seme>;\r\n  readonly lonSeme: Im.Set<Seme>;\r\n  readonly liSeme: Im.Set<LiSeme>;\r\n  readonly nanpaIjo: Im.Set<number>;\r\n}\r\n\r\nexport function tokiENasinMusi(nasin: NasinMusi)\r\n{\r\n  const seme = `${nasin.seme.join(' en ')}`;\r\n  const lonSeme = nasin.lonSeme.equals(Im.Set.of('ali'))\r\n    ? ''\r\n    : ` lon ${nasin.lonSeme.join(' en ')}`;\r\n  const liSeme = ` li ${nasin.liSeme.join(' li ')}`;\r\n  return `${seme}${lonSeme}${liSeme}`;\r\n}\r\n","import './lukinMusi.css';\r\nimport { Component } from 'react';\r\nimport { lipuMaAli } from './insa/lipuMa';\r\nimport { Musi, tawaNi, openEMusi, tenpoMonsi, tenpoSinpin, tawa } from './insa/musi';\r\nimport { IloPalisa, Palisa } from './iloPalisa';\r\nimport { Ma } from './ma';\r\nimport { panaENasinMusiAli } from './insa/pilinToki';\r\nimport { tokiENasinMusi } from './insa/nasinMusi';\r\nimport { paliELonIjo } from './insa/lonIjo';\r\n\r\nexport class LukinMusi extends Component<{ }, Musi>\r\n{\r\n  constructor(jo: { })\r\n  {\r\n    super(jo);\r\n    this.state = openEMusi(lipuMaAli[0]);\r\n  }\r\n  \r\n  render()\r\n  {\r\n    const lipuIjo = tawaNi(this.state).lipuIjo;\r\n    \r\n    // O WEKA E NI:\r\n    const lonIjo = paliELonIjo(lipuIjo);\r\n    const lipuPiNasinMusi =\r\n      panaENasinMusiAli(this.state.lipuMa.suli, lonIjo)\r\n        .map(tokiENasinMusi)\r\n        .map((toki, nanpa) => <p key={nanpa}>{toki}</p>);\r\n    // ^^^\r\n    \r\n    return (\r\n      <main>\r\n        <div className='nimiMa'>\r\n          {this.state.lipuMa.nimi}\r\n        </div>\r\n        <Ma\r\n          suli={this.state.lipuMa.suli}\r\n          lipuIjo={lipuIjo}\r\n        />\r\n        <div>\r\n          {lipuPiNasinMusi}\r\n        </div>\r\n        <IloPalisa palisaLa={this.lukaPalisa} />\r\n      </main>\r\n    );\r\n  }\r\n  \r\n  private lukaPalisa = (palisa: Palisa) =>\r\n  {\r\n    const pali = this.paliPalisa[palisa];\r\n    this.setState(pali(this.state));\r\n  };\r\n  \r\n  private paliPalisa: { [palisa in Palisa]: (musi: Musi) => Musi } =\r\n  {\r\n    'sewi':   musi => tawa(musi, 'sewi'),\r\n    'anpa':   musi => tawa(musi, 'anpa'),\r\n    'soto':   musi => tawa(musi, 'soto'),\r\n    'teje':   musi => tawa(musi, 'teje'),\r\n    'monsi':  musi => tenpoMonsi(musi),\r\n    'sinpin': musi => tenpoSinpin(musi),\r\n    'open':   musi => tenpoMonsi(musi, true),\r\n    'pini':   musi => tenpoSinpin(musi, true),\r\n  } as const;\r\n}\r\n","import './sijelo.css';\nimport { LukinMusi } from './lukinMusi';\n\nexport const Sijelo = () =>\n  <>\n    <header>\n      <h1>soweli li mi</h1>\n      <h2>soweli li mi</h2>\n      <h3>nimi li lon la ijo li lon</h3>\n    </header>\n    <LukinMusi />\n  </>;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) =>\n{\n  if(onPerfEntry && onPerfEntry instanceof Function)\n  {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) =>\n    {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import './index.css';\nimport { StrictMode } from 'react';\nimport { render } from 'react-dom';\nimport { Sijelo } from './sijelo';\nimport reportWebVitals from './reportWebVitals';\n\nrender(\n  <StrictMode>\n    <Sijelo />\n  </StrictMode>,\n  document.getElementById('sijelo')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}